(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},172:function(e,t,a){a(173),e.exports=a(225)},173:function(e,t,a){},200:function(e,t,a){var r={"./af":34,"./af.js":34,"./ar":35,"./ar-dz":36,"./ar-dz.js":36,"./ar-kw":37,"./ar-kw.js":37,"./ar-ly":38,"./ar-ly.js":38,"./ar-ma":39,"./ar-ma.js":39,"./ar-sa":40,"./ar-sa.js":40,"./ar-tn":41,"./ar-tn.js":41,"./ar.js":35,"./az":42,"./az.js":42,"./be":43,"./be.js":43,"./bg":44,"./bg.js":44,"./bm":45,"./bm.js":45,"./bn":46,"./bn.js":46,"./bo":47,"./bo.js":47,"./br":48,"./br.js":48,"./bs":49,"./bs.js":49,"./ca":50,"./ca.js":50,"./cs":51,"./cs.js":51,"./cv":52,"./cv.js":52,"./cy":53,"./cy.js":53,"./da":54,"./da.js":54,"./de":55,"./de-at":56,"./de-at.js":56,"./de-ch":57,"./de-ch.js":57,"./de.js":55,"./dv":58,"./dv.js":58,"./el":59,"./el.js":59,"./en-au":60,"./en-au.js":60,"./en-ca":61,"./en-ca.js":61,"./en-gb":62,"./en-gb.js":62,"./en-ie":63,"./en-ie.js":63,"./en-il":64,"./en-il.js":64,"./en-in":65,"./en-in.js":65,"./en-nz":66,"./en-nz.js":66,"./en-sg":67,"./en-sg.js":67,"./eo":68,"./eo.js":68,"./es":69,"./es-do":70,"./es-do.js":70,"./es-us":71,"./es-us.js":71,"./es.js":69,"./et":72,"./et.js":72,"./eu":73,"./eu.js":73,"./fa":74,"./fa.js":74,"./fi":75,"./fi.js":75,"./fil":76,"./fil.js":76,"./fo":77,"./fo.js":77,"./fr":78,"./fr-ca":79,"./fr-ca.js":79,"./fr-ch":80,"./fr-ch.js":80,"./fr.js":78,"./fy":81,"./fy.js":81,"./ga":82,"./ga.js":82,"./gd":83,"./gd.js":83,"./gl":84,"./gl.js":84,"./gom-deva":85,"./gom-deva.js":85,"./gom-latn":86,"./gom-latn.js":86,"./gu":87,"./gu.js":87,"./he":88,"./he.js":88,"./hi":89,"./hi.js":89,"./hr":90,"./hr.js":90,"./hu":91,"./hu.js":91,"./hy-am":92,"./hy-am.js":92,"./id":93,"./id.js":93,"./is":94,"./is.js":94,"./it":95,"./it-ch":96,"./it-ch.js":96,"./it.js":95,"./ja":97,"./ja.js":97,"./jv":98,"./jv.js":98,"./ka":99,"./ka.js":99,"./kk":100,"./kk.js":100,"./km":101,"./km.js":101,"./kn":102,"./kn.js":102,"./ko":103,"./ko.js":103,"./ku":104,"./ku.js":104,"./ky":105,"./ky.js":105,"./lb":106,"./lb.js":106,"./lo":107,"./lo.js":107,"./lt":108,"./lt.js":108,"./lv":109,"./lv.js":109,"./me":110,"./me.js":110,"./mi":111,"./mi.js":111,"./mk":112,"./mk.js":112,"./ml":113,"./ml.js":113,"./mn":114,"./mn.js":114,"./mr":115,"./mr.js":115,"./ms":116,"./ms-my":117,"./ms-my.js":117,"./ms.js":116,"./mt":118,"./mt.js":118,"./my":119,"./my.js":119,"./nb":120,"./nb.js":120,"./ne":121,"./ne.js":121,"./nl":122,"./nl-be":123,"./nl-be.js":123,"./nl.js":122,"./nn":124,"./nn.js":124,"./oc-lnc":125,"./oc-lnc.js":125,"./pa-in":126,"./pa-in.js":126,"./pl":127,"./pl.js":127,"./pt":128,"./pt-br":129,"./pt-br.js":129,"./pt.js":128,"./ro":130,"./ro.js":130,"./ru":131,"./ru.js":131,"./sd":132,"./sd.js":132,"./se":133,"./se.js":133,"./si":134,"./si.js":134,"./sk":135,"./sk.js":135,"./sl":136,"./sl.js":136,"./sq":137,"./sq.js":137,"./sr":138,"./sr-cyrl":139,"./sr-cyrl.js":139,"./sr.js":138,"./ss":140,"./ss.js":140,"./sv":141,"./sv.js":141,"./sw":142,"./sw.js":142,"./ta":143,"./ta.js":143,"./te":144,"./te.js":144,"./tet":145,"./tet.js":145,"./tg":146,"./tg.js":146,"./th":147,"./th.js":147,"./tk":148,"./tk.js":148,"./tl-ph":149,"./tl-ph.js":149,"./tlh":150,"./tlh.js":150,"./tr":151,"./tr.js":151,"./tzl":152,"./tzl.js":152,"./tzm":153,"./tzm-latn":154,"./tzm-latn.js":154,"./tzm.js":153,"./ug-cn":155,"./ug-cn.js":155,"./uk":156,"./uk.js":156,"./ur":157,"./ur.js":157,"./uz":158,"./uz-latn":159,"./uz-latn.js":159,"./uz.js":158,"./vi":160,"./vi.js":160,"./x-pseudo":161,"./x-pseudo.js":161,"./yo":162,"./yo.js":162,"./zh-cn":163,"./zh-cn.js":163,"./zh-hk":164,"./zh-hk.js":164,"./zh-mo":165,"./zh-mo.js":165,"./zh-tw":166,"./zh-tw.js":166};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=200},201:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(17),s=a(4),c=a(3),l=a(14),o=a(171),u=a(6),d=a.n(u),m=function(e,t){return{type:"SAVE_USER",data:e,isLogged:t}},p=function(e,t){var a=t.toLowerCase().replace(/[,.;!?"'+*/']+/gi," ").trim().split(" "),r=e.trim().toLowerCase();return a.includes(r)},E={storyCreate:{title:"Création d'une aventure",content:"Une aventure est constituée d'un titre, d'un synopsis, d'une description. Le synopsis est un texte résumé visible lorsque l'aventure est listé sur une autre page et la descripsion est le texte détaillé visible seulement sur la page de l'aventure"},storyEdit:{title:"Edition d'une aventure",content:"Une aventure est constituée de chapitres. Le premier chapitre créé sera le premier chapitre de l'aventure et est nécessaire pour jouer. Vous pouvez créer d'autres chapitres et les ordonner en leur assignant des chapitres parents. Exemple : Sur mon aventure, je créer un premier chapitre \"La cave\", ça sera le début de l'aventure. Je créer un deuxième chapitre \"Le couloir\", je lui choisis en chapitre parent \"La cave\" pour le mettre à la suite. Pour un chapitre, le mot clé et le mot serrure doivent être présent dans son contenu. La clé serait l'élément actif et la serrure l'élément passif. Pour débloquer un chapitre il faut combiner la bonne clé et serrure. Par exemple: Loupe / Papier => On utilise la loupe pour lire un texte caché pour aller au chapitre suivant. Le message de réussite est un petit texte d'ambiance pour faire la liaison avec le prochain chapitre ou pour clôturer l'aventure. Dans notre exemple précédent, il pourrait contenir le texte lisible grâce à la loupe."},gameScreen:{title:"Jouer à une aventure",content:"Vous êtes confrontés au premier chapitre d'une histoire. Vous devez, grâce à une combinaison de mots Clé / Serrure,  déverouiller chacun des chapitres jusqu'à la fin de l'aventure. Par exemple \"Une loupe\" permet de lire un texte caché sur \"Un papier\". Un timer permet de voir votre temps sur l'aventure. Si vous tentez une mauvaise combinaison, vous aurez une pénalité de 1 minute. Si vous êtes bloqués, vous avez la possibilité d'afficher un indice contre une pénalité de 5 minutes une fois par chapitre."}},_="http://3.219.236.7/back",f=function(e){return function(t){return function(a){switch(a.type){case"LOG_IN":var r=e.getState().user,n=r.email,i=r.password;d.a.post("".concat(_,"/api/v0/login"),{email:n,password:i},{withCredentials:!0}).then((function(t){e.dispatch(m(t.data[0])),sessionStorage.setItem("currentuser",JSON.stringify(t.data[0])),sessionStorage.setItem("isLogged","".concat(!0)),e.dispatch({type:"REDIRECT_ON"})})).catch((function(t){e.dispatch({type:"LOG_ERROR"}),console.warn(t)})),t(a);break;case"LOG_OUT":var s=e.getState().user.user.id;d.a.post("".concat(_,"/api/v0/logout"),{id:s},{withCredentials:!0}).then((function(){sessionStorage.removeItem("isLogged"),sessionStorage.removeItem("currentuser")})).catch((function(e){console.warn(e)})),t(a);break;case"REGISTER_USER":var c=e.getState().user,l=c.emailRegister,o=c.nickname,u=c.firstname,p=c.lastname,E=c.passwordFirst,f=c.passwordSecond;d.a.post("".concat(_,"/api/v0/users"),{email:l,username:o,firstname:u,lastname:p,password:{first:E,second:f}},{withCredentials:!0}).then((function(t){201===t.status&&(e.dispatch(m(t.data)),sessionStorage.setItem("currentuser",JSON.stringify(t.data)),sessionStorage.setItem("isLogged","".concat(!0)),e.dispatch({type:"REDIRECT_ON"}))})).catch((function(t){e.dispatch({type:"REGISTER_ERROR"}),console.warn(t)})),t(a);break;default:t(a)}}}},h=function(e){return{type:"SAVE_ADVENTURES_HOME",adventuresHome:e}},v=function(e){return{type:"SAVE_ADVENTURES_CATALOG",adventuresCatalog:e}},g=function(e){return{type:"SAVE_ADVENTURE_SELECTED",adventureSelected:e}},y=function(e){return{type:"SAVE_ADVENTURES_ACTIVE_NUMBER",adventuresActiveNumber:e}},b=function(e){return{type:"FETCH_ADVENTURE_TIMER",adventureId:e}},R=function(e){return{type:"SAVE_ADVENTURE_TIMER",adventureTimer:e}},T=function(e){return{type:"FETCH_OWN_PARTIES",authorId:e}},O=function(e){return function(t){return function(a){switch(a.type){case"FETCH_ADVENTURES_HOME":d.a.get("".concat(_,"/api/v0/stories?last=3")).then((function(t){e.dispatch(h(t.data[0])),e.dispatch({type:"HIDE_LOADER"})})).catch((function(e){console.warn(e)})),t(a);break;case"FETCH_ADVENTURES_CATALOG":d.a.get("".concat(_,"/api/v0/stories")).then((function(t){e.dispatch(v(t.data[0])),e.dispatch({type:"HIDE_LOADER"})})).catch((function(e){console.warn(e)})),t(a);break;case"FETCH_ADVENTURE_SELECTED":var r=e.getState().user.user.apiToken;d.a.get("".concat(_,"/api/v0/stories/").concat(a.slug),{headers:{"X-AUTH-TOKEN":r}}).then((function(t){e.dispatch(g(t.data[0])),e.dispatch(b(t.data[0].id))})).catch((function(e){console.warn(e)})),t(a);break;case"FETCH_ADVENTURES_ACTIVE_NUMBER":d.a.get("".concat(_,"/api/v0/stories/count")).then((function(t){e.dispatch(y(t.data.storyNumber)),e.dispatch({type:"HIDE_LOADER"})})).catch((function(e){console.warn(e)})),t(a);break;case"FETCH_ADVENTURE_TIMER":d.a.get("".concat(_,"/api/v0/stories/").concat(a.adventureId,"/time")).then((function(t){200===t.status&&e.dispatch(R(t.data)),e.dispatch({type:"HIDE_LOADER"})})).catch((function(e){console.warn(e)})),t(a);break;case"ACTIVATE_STORY":var n=e.getState().user.user.apiToken,i=e.getState().adventures.adventureSelected.id;d.a.put("".concat(_,"/api/v0/stories/").concat(i,"/active?set=true"),{},{headers:{"X-AUTH-TOKEN":n}}).then((function(t){200===t.status&&e.dispatch(g(t.data))})).catch((function(e){console.warn(e)})),t(a);break;case"DESACTIVATE_STORY":var s=e.getState().user.user.apiToken,c=e.getState().adventures.adventureSelected.id;d.a.put("".concat(_,"/api/v0/stories/").concat(c,"/active?set=false"),{},{headers:{"X-AUTH-TOKEN":s}}).then((function(t){200===t.status&&e.dispatch(g(t.data))})).catch((function(e){console.warn(e)})),t(a);break;case"DELETE_STORY":var l=e.getState().user.user.apiToken,o=e.getState().adventures.adventureSelected.id;d.a.delete("".concat(_,"/api/v0/stories/").concat(o),{headers:{"X-AUTH-TOKEN":l}}).then((function(t){204===t.status&&e.dispatch({type:"CLEAR_PROFIL"})})).catch((function(e){console.warn(e)})),t(a);break;default:t(a)}}}},C=function(e){return function(t){return function(a){switch(a.type){case"SUBMIT_STORY_CREATE_FORM":var r=e.getState().user.user,n=r.id,i=r.apiToken;d.a.post("".concat(_,"/api/v0/stories"),{title:a.title,synopsis:a.synopsis,description:a.description,active:0,author:n},{headers:{"X-AUTH-TOKEN":i}}).then((function(t){e.dispatch({type:"SAVE_STORY_CREATE_SLUG",slug:t.data.slug})})).catch((function(e){console.warn(e)})).finally((function(){e.dispatch({type:"REDIRECT_ON"})})),t(a);break;default:t(a)}}}},S=function(e){return{type:"SAVE_CURRENT_STORY",currentStory:e}},N=function(e){return{type:"FETCH_FIRST_CHAPTER",firstChapterId:e}},A=function(e){return{type:"SAVE_CURRENT_CHAPTER",currentChapter:e}},j=function(e){return{type:"SAVE_PREVIOUS_CHAPTERS",currentChapter:e}},D=function(){return{type:"HIDE_CHAPTER"}},w=function(e){return{type:"APPLY_PENALTY",penaltyTime:e}},L=function(e){return function(t){return function(a){switch(a.type){case"FETCH_CURRENT_STORY":var r=e.getState().user.user.apiToken;d.a.get("".concat(_,"/api/v0/stories/").concat(a.slug),{headers:{"X-AUTH-TOKEN":r}}).then((function(t){e.dispatch(S(t.data[0])),e.dispatch(N(t.data[0].firstChapter.id))})).catch((function(e){console.warn(e)})),t(a);break;case"FETCH_FIRST_CHAPTER":d.a.get("".concat(_,"/api/v0/chapters/").concat(a.firstChapterId)).then((function(t){e.dispatch(A(t.data[0])),e.dispatch({type:"HIDE_LOADER"}),e.dispatch({type:"DISPLAY_CHAPTER_AFTER_LOAD"})})).catch((function(e){console.warn(e)})).finally((function(){e.dispatch({type:"START_THE_COUNTER"})})),t(a);break;case"FETCH_NEXT_CHAPTER":var n=e.getState().gameScreen.currentChapter;d.a.get("".concat(_,"/api/v0/chapters/").concat(n.id,"/child")).then((function(t){var a,r,i;200===t.status&&(e.dispatch(j(n)),e.dispatch(A(t.data[0]))),204===t.status&&(e.dispatch({type:"STOP_THE_COUNTER"}),e.dispatch(j(n)),e.dispatch({type:"DISPLAY_SUCCESS_MESSAGE"}),e.dispatch((a=e.getState().gameScreen.timerCounter,r=e.getState().user.user.id,i=e.getState().gameScreen.currentStory.id,{type:"SAVE_PARTY_TIME",endTime:a,player:r,forStory:i})))})).catch((function(e){console.warn(e)})).finally((function(){e.dispatch({type:"DISPLAY_CHAPTER_AFTER_LOAD"})})),t(a);break;case"SAVE_PARTY_TIME":var i=e.getState().user.user.apiToken;d.a.post("".concat(_,"/api/v0/parties"),{time:a.endTime,player:a.player,forStory:a.forStory},{headers:{"X-AUTH-TOKEN":i}}).then((function(){})).catch((function(e){console.warn(e)})),t(a);break;default:t(a)}}}},k=function(e){return function(t){return function(a){switch(a.type){case"FETCH_ADV_EDIT_SELECTED":var r=e.getState().user.user.apiToken;d.a.get("".concat(_,"/api/v0/stories/").concat(a.slug),{headers:{"X-AUTH-TOKEN":r}}).then((function(t){e.dispatch({type:"SAVE_ADV_EDIT_SELECTED",adventureEdit:t.data[0]}),null!==t.data[0].firstChapter&&e.dispatch({type:"FETCH_ADV_EDIT_CHAPTERS"})})).catch((function(e){console.warn(e)})).finally((function(){e.dispatch({type:"HIDE_LOADER"})})),t(a);break;case"SUBMIT_ADV_EDIT_FORM":var n=e.getState().user.user,i=n.id,s=n.apiToken,c=e.getState().storyEdit,l=c.title,o=c.synopsis,u=c.description,m=c.firstChapter,p=c.idStory;d.a.put("".concat(_,"/api/v0/stories/").concat(p),{title:l,synopsis:o,description:u,active:0,author:i,firstChapter:m.id},{headers:{"X-AUTH-TOKEN":s}}).then((function(t){e.dispatch(g(t.data))})).catch((function(e){console.warn(e)})).finally((function(){e.dispatch({type:"REDIRECT_ON"})})),t(a);break;case"SUBMIT_NEW_CHAPTER_FORM":var E=e.getState().chapterEdit,f=E.title,h=E.content,v=E.keyword,y=E.lockword,b=E.unlockText,R=E.parentChapterChoice,T=e.getState().storyEdit.idStory,O=e.getState().user.user.apiToken;d.a.post("".concat(_,"/api/v0/chapters"),{title:f,content:h,keyword:v,lockword:y,unlockText:b,forStory:T,parentChapter:R},{headers:{"X-AUTH-TOKEN":O}}).then((function(){e.dispatch({type:"REDIRECT_ON"})})).catch((function(e){console.warn(e)})).finally((function(){})),t(a);break;case"SUBMIT_CHAPTER_EDIT_FORM":var C=e.getState().chapterEdit,S=C.id,N=C.title,A=C.content,j=C.keyword,D=C.lockword,w=C.unlockText,L=C.parentChapterChoice,k=e.getState().storyEdit.idStory,I=e.getState().user.user.apiToken;d.a.put("".concat(_,"/api/v0/chapters/").concat(S),{title:N,content:A,keyword:j,lockword:D,unlockText:w,forStory:k,parentChapter:L},{headers:{"X-AUTH-TOKEN":I}}).then((function(){e.dispatch({type:"REDIRECT_ON"})})).catch((function(e){console.warn(e)})).finally((function(){})),t(a);break;case"FETCH_ADV_EDIT_CHAPTERS":var q=e.getState().storyEdit.idStory;d.a.get("".concat(_,"/api/v0/chapters?story_id=").concat(q)).then((function(t){e.dispatch({type:"DISPLAY_LOADER"}),e.dispatch({type:"SAVE_ADV_EDIT_CHAPTERS",chapters:t.data[0]}),e.dispatch({type:"FETCH_PARENT_CHAPTER_POSSIBLE_OPTIONS"})})).catch((function(){e.dispatch({type:"CLEAR_STORY_EDIT"})})),t(a);break;case"FETCH_PARENT_CHAPTER_POSSIBLE_OPTIONS":var P=e.getState().storyEdit.idStory;d.a.get("".concat(_,"/api/v0/chapters/?story_id=").concat(P,"&non_parent=true")).then((function(t){e.dispatch({type:"SAVE_PARENT_CHAPTER_POSSIBLE_OPTIONS",parentChapterOption:t.data[0]})})).catch((function(){})).finally((function(){e.dispatch({type:"HIDE_LOADER"})})),t(a);break;case"FETCH_CHAPTER_EDIT_SELECTED":d.a.get("".concat(_,"/api/v0/chapters/").concat(a.id)).then((function(t){null===t.data[0].parentChapter?e.dispatch({type:"SAVE_CHAPTER_WHITOUT_PARENT",chapterEdit:t.data[0]}):e.dispatch(function(e){return{type:"SAVE_CHAPTER_EDIT_SELECTED",chapterEdit:e}}(t.data[0]))})).catch((function(e){console.warn(e)})).finally((function(){})),t(a);break;default:t(a)}}}},I=function(e){return function(t){return function(a){switch(a.type){case"FETCH_CREATED_ADVENTURES":d.a.get("".concat(_,"/api/v0/stories/?author_id=").concat(a.authorId)).then((function(t){e.dispatch({type:"SAVE_CREATED_ADVENTURES",createdAdventures:t.data[0]}),e.dispatch(T(a.authorId))})).catch((function(t){e.dispatch(T(a.authorId)),console.warn(t)})),t(a);break;case"FETCH_OWN_PARTIES":d.a.get("".concat(_,"/api/v0/parties?user_id=").concat(a.authorId)).then((function(t){e.dispatch({type:"SAVE_OWN_PARTIES",ownParties:t.data[0]}),e.dispatch({type:"HIDE_LOADER"})})).catch((function(e){console.warn(e)})),t(a);break;default:t(a)}}}};function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(Object(a),!0).forEach((function(t){F(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function F(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var V={emailRegister:"",passwordFirst:"",passwordSecond:"",firstname:"",lastname:"",nickname:"",email:"",password:"",isLogged:JSON.parse(sessionStorage.getItem("isLogged")),user:JSON.parse(sessionStorage.getItem("currentuser")),registerError:!1,loginError:!1},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"UPDATE_REGISTER_FIELD":case"UPDATE_USER_FIELD":return P(P({},e),{},F({},t.name,t.newValue));case"REGISTER_ERROR":return P(P({},e),{},{registerError:!0,passwordFirst:"",passwordSecond:""});case"SAVE_USER":return P(P({},e),{},{isLogged:!0,user:t.data,email:"",password:"",emailRegister:"",passwordFirst:"",passwordSecond:"",firstname:"",lastname:"",nickname:"",registerError:!1,loginError:!1});case"LOG_ERROR":return P(P({},e),{},{loginError:!0,password:""});case"LOG_OUT":return P(P({},e),{},{isLogged:null,user:{}});default:return e}};function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){x(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function x(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Y={burgerMenuOpen:!1,loading:!0,asideOpen:!1,redirect:!1},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"TOOGLE_BURGER_MENU":return U(U({},e),{},{burgerMenuOpen:!e.burgerMenuOpen});case"TOOGLE_BURGER_MENU_FROM_NAV":return U(U({},e),{},{burgerMenuOpen:!1});case"DISPLAY_LOADER":return U(U({},e),{},{loading:!0});case"HIDE_LOADER":return U(U({},e),{},{loading:!1});case"REDIRECT_ON":return U(U({},e),{},{redirect:!0});case"REDIRECT_OFF":return U(U({},e),{},{redirect:!1});case"TOGGLE_ASIDE_OPEN":return U(U({},e),{},{asideOpen:!e.asideOpen});default:return e}};function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){W(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function W(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var K={adventuresHome:[],adventuresCatalog:[],adventureSelected:{id:"",title:"",description:"",createdAt:"",author:{username:"",id:0},active:!1,slug:""},adventuresActiveNumber:0,adventureTimer:{average:"",best:"",number:""}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SAVE_ADVENTURES_HOME":return z(z({},e),{},{adventuresHome:t.adventuresHome});case"SAVE_ADVENTURES_CATALOG":return z(z({},e),{},{adventuresCatalog:t.adventuresCatalog});case"SAVE_ADVENTURE_SELECTED":return z(z({},e),{},{adventureSelected:t.adventureSelected});case"SAVE_ADVENTURES_ACTIVE_NUMBER":return z(z({},e),{},{adventuresActiveNumber:t.adventuresActiveNumber});case"SAVE_ADVENTURE_TIMER":return z(z({},e),{},{adventureTimer:t.adventureTimer});case"CLEAR_ADVENTURE_TIMER":return z(z({},e),{},{adventureTimer:{average:"",best:"",number:""}});default:return e}};function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){Q(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Z={currentStory:{id:"",title:"",synopsis:"",firstChapter:"",author:{id:"",username:""}},currentChapter:{id:"",title:"",content:"",keyword:"",lockword:"",unlockText:"",parentChapter:"",forStory:""},previousChapters:[],gameKey:"",gameLock:"",trueAnswer:!1,loadingChapter:!0,showSuccessMessage:!1,timerCounter:0,timerIsRunning:!1,showWrongAnswerMessage:!1,showHint:0},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SAVE_CURRENT_STORY":return $($({},e),{},{currentStory:t.currentStory});case"SAVE_CURRENT_CHAPTER":return $($({},e),{},{currentChapter:t.currentChapter});case"SAVE_PREVIOUS_CHAPTERS":return $($({},e),{},{previousChapters:e.previousChapters.concat(t.currentChapter)});case"UPDATE_ANSWER_FIELD":return $($({},e),{},Q({},t.name,t.newValue));case"BLOCK_FIELD":return $({},e);case"TOGGLE_ANSWER_VALUE":return $($({},e),{},{trueAnswer:!e.trueAnswer});case"CLEAR_GAMESCREEN_INPUT":return $($({},e),{},{gameKey:"",gameLock:"",showHint:0});case"DISPLAY_CHAPTER_AFTER_LOAD":return $($({},e),{},{loadingChapter:!1});case"HIDE_CHAPTER":return $($({},e),{},{loadingChapter:!0});case"DISPLAY_SUCCESS_MESSAGE":return $($({},e),{},{showSuccessMessage:!0});case"SET_COUNTER":return $($({},e),{},{timerCounter:t.currentTime});case"START_THE_COUNTER":return $($({},e),{},{timerIsRunning:!0});case"STOP_THE_COUNTER":return $($({},e),{},{timerIsRunning:!1});case"TOGGLE_WRONG_ANSWER_MESSAGE":return $($({},e),{},{showWrongAnswerMessage:!e.showWrongAnswerMessage});case"APPLY_PENALTY":return $($({},e),{},{timerCounter:e.timerCounter+t.penaltyTime});case"GIVE_HINT":return $($({},e),{},{showHint:t.randomHint});case"RESET_INITIAL_STATE":return $({},Z);default:return e}};function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(Object(a),!0).forEach((function(t){re(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function re(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ne={title:"",synopsis:"",description:"",slug:"",validationError:!1},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"UPDATE_CREATION_FIELD":return ae(ae({},e),{},re({},t.identifier,t.newValue));case"SAVE_STORY_CREATE_SLUG":return ae(ae({},e),{},{slug:t.slug});case"CLEAR_STORY_CREATION":return ae({},ne);case"SET_VALIDATION_ERROR_ADV_TRUE":return ae(ae({},e),{},{validationError:!0});default:return e}};function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(Object(a),!0).forEach((function(t){le(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function le(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var oe={idStory:"",title:"",initialTitle:"",synopsis:"",active:"",firstChapter:{id:"",title:""},author:{id:"",username:""},slug:"",description:"",chapters:[],parentChapterOption:[],editOption:"",validationErrorAdvEdit:!1,structureView:!1},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SAVE_ADV_EDIT_SELECTED":return ce(ce({},e),{},{idStory:t.adventureEdit.id,title:t.adventureEdit.title,synopsis:t.adventureEdit.synopsis,description:t.adventureEdit.description,slug:t.adventureEdit.slug,active:t.adventureEdit.active,firstChapter:t.adventureEdit.firstChapter,author:t.adventureEdit.author,initialTitle:t.adventureEdit.title});case"UPDATE_ADVENTURE_EDIT_FIELD":return ce(ce({},e),{},le({},t.identifier,t.newValue));case"SAVE_ADV_EDIT_CHAPTERS":return ce(ce({},e),{},{chapters:t.chapters});case"CLEAR_STORY_EDIT":return ce({},oe);case"SET_EDIT_OPTION":return ce(ce({},e),{},{editOption:t.newValue});case"SAVE_PARENT_CHAPTER_POSSIBLE_OPTIONS":return ce(ce({},e),{},{parentChapterOption:t.parentChapterOption});case"SET_VALIDATION_ERROR_ADV_EDIT_TRUE":return ce(ce({},e),{},{validationErrorAdvEdit:!0});case"SET_VALIDATION_ERROR_ADV_EDIT_FALSE":return ce(ce({},e),{},{validationErrorAdvEdit:!1});case"SHOW_STORY_STRUCTURE":return ce(ce({},e),{},{structureView:!0});case"HIDE_STORY_STRUCTURE":return ce(ce({},e),{},{structureView:!1});default:return e}};function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(Object(a),!0).forEach((function(t){pe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function pe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ee={showCreatedAdventures:!1,createdAdventures:[],ownParties:[]},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SAVE_CREATED_ADVENTURES":return me(me({},e),{},{createdAdventures:t.createdAdventures});case"SAVE_OWN_PARTIES":return me(me({},e),{},{ownParties:t.ownParties});case"CLEAR_PROFIL":return me({},Ee);default:return e}};function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function he(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(a),!0).forEach((function(t){ve(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ve(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ge={title:"",content:"",keyword:"",lockword:"",unlockText:"",parentChapterChoice:"",errorKeyLock:!1,validationErrorChapEdit:!1},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SAVE_CHAPTER_EDIT_SELECTED":return he(he(he({},e),t.chapterEdit),{},{parentChapterChoice:t.chapterEdit.parentChapter.id});case"SAVE_CHAPTER_WHITOUT_PARENT":return he(he({},e),t.chapterEdit);case"CLEAR_CHAPTER_EDIT":return he({},ge);case"UPDATE_CHAPTER_EDIT_FIELD":return he(he({},e),{},ve({},t.identifier,t.newValue));case"SET_PARENT_CHAPTER_CHOICE":return he(he({},e),{},{parentChapterChoice:t.parentChapterChoice});case"SET_ERROR_KEY_LOCK_TRUE":return he(he({},e),{},{errorKeyLock:!0});case"SET_VALIDATION_ERROR_CHAP_EDIT_TRUE":return he(he({},e),{},{validationErrorChapEdit:!0});case"SET_VALIDATION_ERROR_CHAP_EDIT_FALSE":return he(he({},e),{},{validationErrorChapEdit:!1});default:return e}},be=Object(l.combineReducers)({user:H,utils:G,adventures:X,gameScreen:ee,storyCreation:ie,storyEdit:ue,profil:_e,chapterEdit:ye}),Re=Object(o.composeWithDevTools)(Object(l.applyMiddleware)(f,L,O,C,k,I)),Te=Object(l.createStore)(be,Re),Oe=a(8),Ce=a(1),Se=a.n(Ce),Ne=a(15),Ae=a.n(Ne),je=(a(201),function(e){var t=e.title,a=e.synopsis,r=e.author,i=e.createdAt,c=e.slug;return n.a.createElement("div",{className:"adventureSmall"},n.a.createElement("h3",{className:"adventureSmall-title"},t),n.a.createElement("div",{className:"adventureSmall-authorAndDate"},n.a.createElement("span",{className:"adventureSmall-author"},r.username),n.a.createElement("time",{className:"adventureSmall-date",dateTime:i},n.a.createElement(Ae.a,{format:"DD/MM/YYYY",parse:"YYYY-MM-DD HH:mm"},i))),n.a.createElement("p",{className:"adventureSmall-synopsis"},a),n.a.createElement("div",{className:"adventureSmall-link"},n.a.createElement(s.b,{to:"/aventures/".concat(c)},"Explorer")))});je.propTypes={slug:Se.a.string.isRequired,title:Se.a.string.isRequired,synopsis:Se.a.string.isRequired,author:Se.a.shape({username:Se.a.string.isRequired}).isRequired,createdAt:Se.a.string.isRequired};var De=je,we=Object(c.b)((function(e){return{}}),(function(e){return{}}))(De),Le=(a(203),function(){return n.a.createElement("div",{className:"loader"},n.a.createElement("div",{className:"text"},"Chargement des données..."))}),ke=a(5),Ie=a.n(ke);a(204);function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var Pe=function(e){var t=e.adventuresHome,a=e.fetchAdventuresHome,i=e.loading,c=e.displayLoader,l=e.fetchAdventuresActiveNumber,o=e.adventuresActiveNumber,u=e.isLogged;return Object(r.useEffect)((function(){a(),l(),c()}),[]),n.a.createElement(n.a.Fragment,null,i&&n.a.createElement(Le,null),!i&&n.a.createElement("main",{className:"home"},n.a.createElement("section",{className:"presentation"},n.a.createElement("h1",{className:"presentation-title main-title"},n.a.createElement(Ie.a,{cursor:{hideWhenDone:!0}},"Bienvenue sur O'ld the door")),n.a.createElement("div",{className:"ascii-container"},"true"!==u&&n.a.createElement(Ie.a,{cursor:{show:!1},avgTypingDelay:5},n.a.createElement("pre",{className:"asciiart"},"___________",n.a.createElement("br",null),"|  __  __  |",n.a.createElement("br",null),"| |  ||  | |",n.a.createElement("br",null),"| |  ||  | |",n.a.createElement("br",null),"| |__||__| |",n.a.createElement("br",null),"|  __  __()|",n.a.createElement("br",null),"| |  ||  | |",n.a.createElement("br",null),"| |  ||  | |",n.a.createElement("br",null),"| |  ||  | |",n.a.createElement("br",null),"| |__||__| |",n.a.createElement("br",null),"|__________|",n.a.createElement("br",null))),"true"===u&&n.a.createElement("pre",{className:"asciiart"},"___________",n.a.createElement("br",null),"|  __  __  |",n.a.createElement("br",null),"| |  ||  | |",n.a.createElement("br",null),"| |  ||  | |",n.a.createElement("br",null),"| |__||__| |",n.a.createElement("br",null),"|  __  __()|",n.a.createElement("br",null),"| |  ||  | |",n.a.createElement("br",null),"| |  ||  | |",n.a.createElement("br",null),"| |  ||  | |",n.a.createElement("br",null),"| |__||__| |",n.a.createElement("br",null),"|__________|",n.a.createElement("br",null))),n.a.createElement("p",{className:"presentation-description"},"O'ld the door est un nouveau concept d’escape game se basant sur du old school. Retrouvez l’ambiance des jeux d’aventures textuels dans des scénarios où il faudra vous servir de votre environnement pour avancer. Trouver votre chemin dans les mots du texte de l’aventure et laissez votre imagination créer l'environnement qui vous entoure. Vous aimez jouer ? ",n.a.createElement("span",{className:"home-scenario"},o," scénarios sont disponibles pour vous !")," Vous aimez écrire ? Découvrez notre éditeur d’aventure pour proposer votre histoire à tous les joueurs.")),!0!==u&&n.a.createElement("section",{className:"home-inscription"},n.a.createElement("p",{className:"home-inscription-text"},"Inscrivez-vous pour profiter des aventures créées par notre communauté."),n.a.createElement("div",{className:"home-links"},n.a.createElement(s.b,{className:"link-inscription",to:"/inscription"},"Inscription"),n.a.createElement(s.b,{className:"link-adventures",to:"/aventures"},"Aventures"))),n.a.createElement("section",{className:"latest-adventures"},n.a.createElement("h2",{className:"latest-adventures-title"},"Découvrez les dernières aventures !"),n.a.createElement("div",{className:"adventureSmall-container"},t.map((function(e){return n.a.createElement(we,qe({},e,{key:e.id}))}))))))};Pe.propTypes={isLogged:Se.a.oneOfType([Se.a.bool]),adventuresActiveNumber:Se.a.number.isRequired,fetchAdventuresActiveNumber:Se.a.func.isRequired,loading:Se.a.bool.isRequired,adventuresHome:Se.a.arrayOf(Se.a.shape({id:Se.a.number.isRequired}).isRequired).isRequired,fetchAdventuresHome:Se.a.func.isRequired,displayLoader:Se.a.func.isRequired},Pe.defaultProps={isLogged:null};var Fe=Pe,Ve=Object(c.b)((function(e){return{adventuresActiveNumber:e.adventures.adventuresActiveNumber,adventuresHome:e.adventures.adventuresHome,loading:e.utils.loading,isLogged:e.user.isLogged}}),(function(e){return{displayLoader:function(){e({type:"DISPLAY_LOADER"})},fetchAdventuresHome:function(){e({type:"FETCH_ADVENTURES_HOME"})},saveAdventuresHome:function(){e(h())},fetchAdventuresActiveNumber:function(){e({type:"FETCH_ADVENTURES_ACTIVE_NUMBER"})},saveAdventuresActiveNumber:function(){e(y())}}}))(Fe);a(205);function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var Me=function(e){var t=e.adventuresCatalog,a=e.fetchAdventuresCatalog,i=e.loading,c=e.displayLoader;return Object(r.useEffect)((function(){a(),c()}),[]),n.a.createElement(n.a.Fragment,null,i&&n.a.createElement(Le,null),!i&&n.a.createElement("main",{className:"adventures"},n.a.createElement("h1",{className:"adventures-title main-title"},n.a.createElement(Ie.a,{cursor:{hideWhenDone:!0}},"Les aventures")),n.a.createElement("div",{className:"adventures-container"},n.a.createElement("div",{className:"adventureSmall-container"},n.a.createElement("div",{className:"adventureSmall creationAdventure"},n.a.createElement("h3",{className:"adventureSmall-title"},"Pour créer une aventure c'est par ici."),n.a.createElement("div",{className:"adventureSmall-link"},n.a.createElement(s.b,{to:"/aventures/creation"},"Créer une Aventure"))),n.a.createElement("h2",{className:"main-title"},"Catalogue"),t.map((function(e){return n.a.createElement(De,He({},e,{key:e.id}))}))))))};Me.propTypes={adventuresCatalog:Se.a.arrayOf(Se.a.shape({id:Se.a.number.isRequired}).isRequired).isRequired,fetchAdventuresCatalog:Se.a.func.isRequired,loading:Se.a.bool.isRequired,displayLoader:Se.a.func.isRequired};var Ue=Me,xe=Object(c.b)((function(e){return{adventuresCatalog:e.adventures.adventuresCatalog,loading:e.utils.loading}}),(function(e){return{fetchAdventuresCatalog:function(){e({type:"FETCH_ADVENTURES_CATALOG"})},saveAdventuresCatalog:function(){e(v())},displayLoader:function(){e({type:"DISPLAY_LOADER"})}}}))(Ue),Ye=(a(206),function(e){var t=e.adventureSelected,a=e.fetchAdventureSelected,i=e.displayLoader,c=e.loading,l=e.redirectOff,o=e.adventureTimer,u=e.clearAdventureTimer,d=e.activateStory,m=e.desactivateStory,p=e.deleteStory,E=e.active,_=e.user,f=Object(Oe.g)().slug;Object(r.useEffect)((function(){l(),u(),a(f),i()}),[]);var h=Math.floor(o.average/3600),v=Math.floor((o.average-3600*h)/60),g=o.average-(3600*h+60*v),y=Math.floor(o.best/3600),b=Math.floor((o.best-3600*y)/60),R=o.best-(3600*y+60*b);return n.a.createElement(n.a.Fragment,null,c&&n.a.createElement(Le,null),!c&&n.a.createElement("main",{className:"adventure"},n.a.createElement("h1",{className:E?"adventure-title main-title":"adventure-title main-title unactive-storyTitle"},n.a.createElement(Ie.a,{cursor:{hideWhenDone:!0}},t.title)),n.a.createElement("div",{className:"adventure-metas"},n.a.createElement("span",{className:"adventure-author"},t.author.username),n.a.createElement("time",{className:"adventure-date",dateTime:t.createdAt},n.a.createElement(Ae.a,{format:"DD/MM/YYYY",parse:"YYYY-MM-DD HH:mm"},t.createdAt)),o.best&&o.average&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"adventure-partyTime"},n.a.createElement("p",null,"Meilleur temps: ",y>0&&"".concat(y,"h"),b<10&&0,b,"m",R<10&&0,R,"s"),n.a.createElement("p",null,"Temps moyen: ",h>0&&"".concat(h,"h"),v<10&&0,v,"m",g<10&&0,g,"s"),n.a.createElement("p",null,"Parties jouées : ",o.number)))),n.a.createElement("p",{className:"adventure-description"},t.description),n.a.createElement("div",{className:"adventure-links"},t.firstChapter?n.a.createElement(s.b,{to:"/aventures/".concat(f,"/jouer")},n.a.createElement("span",{className:"adventure-link"},"Jouer")):n.a.createElement(s.b,{to:"#"},n.a.createElement("span",{className:"adventure-link-warning"},"L'aventure n'est pas encore jouable")),_&&t.author.id===_.id&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.b,{to:"/aventures/".concat(f,"/edition")},n.a.createElement("span",{className:"adventure-link"},"Edition")),t.firstChapter&&n.a.createElement(n.a.Fragment,null,!E&&n.a.createElement("span",{className:"adventure-link",onClick:d},"Publier"),E&&n.a.createElement("span",{className:"adventure-link",onClick:m},"Dépublier")),n.a.createElement("span",{className:"adventure-link delete-link",id:"delete-button",onClick:function(){document.getElementById("delete-confirmation").classList.toggle("active-delete"),document.getElementById("delete-button").classList.toggle("active-delete")}},"Supprimer"),n.a.createElement("span",{className:"delete-link active-delete",id:"delete-confirmation"},"Êtes-vous sûr ?",n.a.createElement(s.b,{to:"/profil"},n.a.createElement("span",{className:"adventure-link confirmation-delete-link",onClick:p},"Oui")),n.a.createElement("span",{className:"adventure-link confirmation-delete-link",onClick:function(){document.getElementById("delete-confirmation").classList.toggle("active-delete"),document.getElementById("delete-button").classList.toggle("active-delete")}},"Non"))))))});Ye.propTypes={redirectOff:Se.a.func.isRequired,displayLoader:Se.a.func.isRequired,fetchAdventureSelected:Se.a.func.isRequired,loading:Se.a.bool.isRequired,adventureSelected:Se.a.shape({title:Se.a.string.isRequired,description:Se.a.string.isRequired,author:Se.a.shape({username:Se.a.string.isRequired,id:Se.a.number.isRequired}).isRequired,createdAt:Se.a.string.isRequired,firstChapter:Se.a.object}).isRequired,adventureTimer:Se.a.shape({best:Se.a.oneOfType([Se.a.string,Se.a.number]).isRequired,average:Se.a.oneOfType([Se.a.string,Se.a.number]).isRequired,number:Se.a.oneOfType([Se.a.string,Se.a.number]).isRequired}).isRequired,clearAdventureTimer:Se.a.func.isRequired,activateStory:Se.a.func.isRequired,desactivateStory:Se.a.func.isRequired,deleteStory:Se.a.func.isRequired,active:Se.a.bool.isRequired,user:Se.a.shape({id:Se.a.number})},Ye.defaultProps={user:""};var Ge=Ye,Be=Object(c.b)((function(e){return{loading:e.utils.loading,adventureSelected:e.adventures.adventureSelected,adventureTimer:e.adventures.adventureTimer,redirect:e.utils.redirect,active:e.adventures.adventureSelected.active,user:e.user.user}}),(function(e){return{fetchAdventureSelected:function(t){e(function(e){return{type:"FETCH_ADVENTURE_SELECTED",slug:e}}(t))},saveAdventureSelected:function(){e(g())},displayLoader:function(){e({type:"DISPLAY_LOADER"})},redirectOff:function(){e({type:"REDIRECT_OFF"})},fetchAdventureTimer:function(){e(b())},saveAdventureTimer:function(){e(R())},clearAdventureTimer:function(){e({type:"CLEAR_ADVENTURE_TIMER"})},activateStory:function(){e({type:"ACTIVATE_STORY"})},desactivateStory:function(){e({type:"DESACTIVATE_STORY"})},deleteStory:function(){e({type:"DELETE_STORY"})}}}))(Ge),ze=(a(167),a(207),function(e){var t=e.value,a=e.type,r=e.name,i=e.placeholder,s=e.onChange;return n.a.createElement("div",{className:"fieldRegister"},n.a.createElement("input",{autoComplete:"off",className:"input",id:r,placeholder:i,name:r,type:a,value:t,onChange:function(e){s(e.target.value,r)}}))});ze.propTypes={name:Se.a.string.isRequired,placeholder:Se.a.string.isRequired,type:Se.a.string,value:Se.a.string,onChange:Se.a.func.isRequired},ze.defaultProps={type:"text",value:""};var We=ze,Ke=function(){return n.a.createElement("button",{className:"button-register",type:"submit"},"Envoyer")},Xe=function(e){var t=e.value,a=e.name,r=e.placeholder,i=e.onChange;return n.a.createElement("div",{className:"fieldRegister"},n.a.createElement("input",{className:"input input-password",autoComplete:"off",id:a,placeholder:r,name:a,type:"password",value:t,onChange:function(e){i(e.target.value,a)}}))};Xe.propTypes={name:Se.a.string.isRequired,placeholder:Se.a.string.isRequired,value:Se.a.string,onChange:Se.a.func.isRequired},Xe.defaultProps={value:""};var Je=Xe,$e=function(e){var t=e.emailRegister,a=e.firstname,r=e.lastname,i=e.nickname,c=e.passwordFirst,l=e.passwordSecond,o=e.changeField,u=e.handleRegister,d=e.registerError,m=e.redirect,p=c,E=l;return n.a.createElement(n.a.Fragment,null,m&&n.a.createElement(Oe.a,{to:"/profil"}),!m&&n.a.createElement(n.a.Fragment,null,n.a.createElement("main",{className:"register"},n.a.createElement("h1",{className:"adventure-title main-title"},n.a.createElement(Ie.a,{cursor:{hideWhenDone:!0}},"Inscription")),n.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),u()}},n.a.createElement("label",{htmlFor:"form-nickname"},"Pseudo :"),n.a.createElement(We,{name:"nickname",placeholder:"xXDarkSasukeXx, Fabigeon, LeBGdu75 ...",onChange:o,value:i}),n.a.createElement("label",{htmlFor:"form-firstname"},"Prénom :"),n.a.createElement(We,{name:"firstname",placeholder:"Nathan, Lara, Indiana, Daffy ...",onChange:o,value:a}),n.a.createElement("label",{htmlFor:"form-lastname"},"Nom :",n.a.createElement(We,{name:"lastname",placeholder:"Drake, Croft, Jones, Duck ...",onChange:o,value:r})),n.a.createElement("label",{htmlFor:"form-email"},"Email :",n.a.createElement(We,{name:"emailRegister",placeholder:"monadressemail@gmail.com ...",onChange:o,value:t})),n.a.createElement("div",{className:"input-password"},n.a.createElement("label",{htmlFor:"form-password-confirmation"},"Mot de passe :",n.a.createElement("span",{className:"form-password-rules"},"(taille minimum 8 caractere -> 1 majuscule, 1 chiffre, 1 caractere special)"),n.a.createElement(Je,{name:"passwordFirst",placeholder:"1234Azerty!",onChange:o,value:c}))),n.a.createElement("div",{className:"input-password"},n.a.createElement("label",{htmlFor:"form-password-confirmation"},"Confirmation du Mot de passe :",n.a.createElement(Je,{name:"passwordSecond",placeholder:"1234Azerty!",onChange:o,value:l}))),d&&n.a.createElement("div",{className:"infos-warning"},"Les données indiquées sont incorrectes"),p===E&&n.a.createElement(Ke,null)),n.a.createElement("div",{className:"connexion-links"},n.a.createElement(s.b,{className:"link-home register-link-home",to:"/"},"Retour à l'accueil")))))};$e.propTypes={emailRegister:Se.a.string.isRequired,firstname:Se.a.string.isRequired,lastname:Se.a.string.isRequired,nickname:Se.a.string.isRequired,passwordFirst:Se.a.string.isRequired,passwordSecond:Se.a.string.isRequired,changeField:Se.a.func.isRequired,handleRegister:Se.a.func.isRequired,registerError:Se.a.bool.isRequired,redirect:Se.a.bool.isRequired};var Qe=$e,Ze=Object(c.b)((function(e){return{emailRegister:e.user.emailRegister,firstname:e.user.firstname,lastname:e.user.lastname,nickname:e.user.nickname,passwordSecond:e.user.passwordSecond,passwordFirst:e.user.passwordFirst,registerError:e.user.registerError,redirect:e.utils.redirect}}),(function(e){return{changeField:function(t,a){e(function(e,t){return{type:"UPDATE_REGISTER_FIELD",newValue:e,name:t}}(t,a))},handleRegister:function(){e({type:"REGISTER_USER"})}}}))(Qe),et=(a(168),function(e){var t=e.value,a=e.type,r=e.name,i=e.placeholder,s=e.onChange;return n.a.createElement("div",{className:"field"},n.a.createElement("input",{autoComplete:"off",className:"input",id:r,placeholder:i,name:r,type:a,value:t,onChange:function(e){s(e.target.value,r)}}))});et.propTypes={name:Se.a.string.isRequired,placeholder:Se.a.string.isRequired,type:Se.a.string,value:Se.a.string,onChange:Se.a.func.isRequired},et.defaultProps={type:"text",value:""};var tt=et,at=(a(208),function(e){var t=e.value,a=e.name,r=e.placeholder,i=e.onChange;return n.a.createElement("div",{className:"field"},n.a.createElement("input",{autoComplete:"off",className:"input",id:a,placeholder:r,name:a,type:"password",value:t,onChange:function(e){i(e.target.value,a)}}))});at.propTypes={name:Se.a.string.isRequired,placeholder:Se.a.string.isRequired,value:Se.a.string,onChange:Se.a.func.isRequired},at.defaultProps={value:""};var rt=at,nt=function(e){var t=e.email,a=e.password,r=e.changeField,i=e.handleLogin,c=e.redirect,l=e.loginError,o=t,u=a;return n.a.createElement(n.a.Fragment,null,c&&n.a.createElement(Oe.a,{to:"/profil"}),!c&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"login-form"},n.a.createElement("h1",{className:"adventures-title main-title"},n.a.createElement(Ie.a,{cursor:{show:!1}},"Connexion")),n.a.createElement("div",{className:"form"},n.a.createElement("div",{className:"login-header"},n.a.createElement("h2",null,"Connexion à O'ld the door")),l&&n.a.createElement("div",{className:"infos-warning"},n.a.createElement("p",{className:"infos-text blink"},"Accès refusé : Informations de connexion erronées")),n.a.createElement("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),i()}},n.a.createElement("div",{className:"login-input"},n.a.createElement("label",{htmlFor:"email",className:"login-email"}," Email : "),n.a.createElement(tt,{name:"email",placeholder:"",onChange:r,value:t})),n.a.createElement("div",{className:"login-input"},n.a.createElement("label",{htmlFor:"password",className:"login-input-password"}," Mot de passe : "),n.a.createElement(rt,{name:"password",placeholder:"",onChange:r,value:a})),o&&u&&n.a.createElement("button",{className:"button-submit",type:"submit"},"Sign In")))),n.a.createElement("div",{className:"connexion-links"},n.a.createElement(s.b,{className:"link-home",to:"/"},"Retour à l'accueil"),n.a.createElement("span",{className:"inscription-text"},"Pas encore inscrit ?"),n.a.createElement(s.b,{className:"link-inscription",to:"/inscription"},"Inscription"))))};nt.propTypes={email:Se.a.string.isRequired,password:Se.a.string.isRequired,changeField:Se.a.func.isRequired,handleLogin:Se.a.func.isRequired,redirect:Se.a.bool.isRequired,loginError:Se.a.bool.isRequired},nt.defaultProps={};var it=nt,st=Object(c.b)((function(e){return{email:e.user.email,password:e.user.password,isLogged:e.user.isLogged,loginError:e.user.loginError,redirect:e.utils.redirect}}),(function(e){return{changeField:function(t,a){e(function(e,t){return{type:"UPDATE_USER_FIELD",newValue:e,name:t}}(t,a))},handleLogin:function(){e({type:"LOG_IN"})},handleLogout:function(){e({type:"LOG_OUT"})}}}))(it),ct=(a(209),function(){return n.a.createElement("main",{className:"team"},n.a.createElement("h1",{className:"team-title main-title"},n.a.createElement(Ie.a,{cursor:{hideWhenDone:!0}},"Découvrez notre merveilleuse équipe")),n.a.createElement("div",{className:"member"},n.a.createElement("div",{className:"member-name"},n.a.createElement("pre",null," ________  ________  _____ ______   ___  _______   ________      ",n.a.createElement("br",null),"|\\   ___ \\|\\   __  \\|\\   _ \\  _   \\|\\  \\|\\  ___ \\ |\\   ___  \\     ",n.a.createElement("br",null),"\\ \\  \\_|\\ \\ \\  \\|\\  \\ \\  \\\\\\__\\ \\  \\ \\  \\ \\   __/|\\ \\  \\\\ \\  \\    ",n.a.createElement("br",null)," \\ \\  \\ \\\\ \\ \\   __  \\ \\  \\\\|__| \\  \\ \\  \\ \\  \\_|/_\\ \\  \\\\ \\  \\   ",n.a.createElement("br",null),"  \\ \\  \\_\\\\ \\ \\  \\ \\  \\ \\  \\    \\ \\  \\ \\  \\ \\  \\_|\\ \\ \\  \\\\ \\  \\  ",n.a.createElement("br",null),"   \\ \\_______\\ \\__\\ \\__\\ \\__\\    \\ \\__\\ \\__\\ \\_______\\ \\__\\\\ \\__\\ ",n.a.createElement("br",null),"    \\|_______|\\|__|\\|__|\\|__|     \\|__|\\|__|\\|_______|\\|__| \\|__| ",n.a.createElement("br",null))),n.a.createElement("div",{className:"member-role"},n.a.createElement("span",null,"Product Owner"),n.a.createElement("span",null,"Développeur Back")),n.a.createElement("p",{className:"member-description"},"Oclockien en pleine reconversion, je suis à présent mi-aventurier, mi-développeur et re-mi aventurier derrière. C'est donc avec mes quatres co-chevaliers du code que je me lance dans la quête d'énigmes.")),n.a.createElement("div",{className:"member"},n.a.createElement("div",{className:"member-name"},n.a.createElement("pre",null,"  _____ ______   ________     ___    ___ _______   ________   ________  _______      ",n.a.createElement("br",null)," |\\   _ \\  _   \\|\\   __  \\   |\\  \\  /  /|\\  ___ \\ |\\   ___  \\|\\   ____\\|\\  ___ \\     ",n.a.createElement("br",null)," \\ \\  \\\\\\__\\ \\  \\ \\  \\|\\  \\  \\ \\  \\/  / | \\   __/|\\ \\  \\\\ \\  \\ \\  \\___|\\ \\   __/|    ",n.a.createElement("br",null),"  \\ \\  \\\\|__| \\  \\ \\   __  \\  \\ \\    / / \\ \\  \\_|/_\\ \\  \\\\ \\  \\ \\  \\    \\ \\  \\_|/__  ",n.a.createElement("br",null),"   \\ \\  \\    \\ \\  \\ \\  \\ \\  \\  /     \\/   \\ \\  \\_|\\ \\ \\  \\\\ \\  \\ \\  \\____\\ \\  \\_|\\ \\ ",n.a.createElement("br",null),"    \\ \\__\\    \\ \\__\\ \\__\\ \\__\\/  /\\   \\    \\ \\_______\\ \\__\\\\ \\__\\ \\_______\\ \\_______\\",n.a.createElement("br",null),"     \\|__|     \\|__|\\|__|\\|__/__/ /\\ __\\    \\|_______|\\|__| \\|__|\\|_______|\\|_______|",n.a.createElement("br",null),"                             |__|/ \\|__|")),n.a.createElement("div",{className:"member-role"},n.a.createElement("span",null,"Lead Développeur Back")),n.a.createElement("p",{className:"member-description"},"hum.... Je dirais le développeur , dans la salle infos , avec le clavier!")),n.a.createElement("div",{className:"member"},n.a.createElement("div",{className:"member-name"},n.a.createElement("pre",null," _________  ________  ________       ___    ___ ",n.a.createElement("br",null),"|\\___   ___\\\\   __  \\|\\   ___  \\    |\\  \\  /  /|",n.a.createElement("br",null),"\\|___ \\  \\_\\ \\  \\|\\  \\ \\  \\\\ \\  \\   \\ \\  \\/  / /",n.a.createElement("br",null),"     \\ \\  \\ \\ \\  \\\\\\  \\ \\  \\\\ \\  \\   \\ \\    / / ",n.a.createElement("br",null),"      \\ \\  \\ \\ \\  \\\\\\  \\ \\  \\\\ \\  \\   \\/  /  /  ",n.a.createElement("br",null),"       \\ \\__\\ \\ \\_______\\ \\__\\\\ \\__\\__/  / /    ",n.a.createElement("br",null),"        \\|__|  \\|_______|\\|__| \\|__|\\___/ /     ",n.a.createElement("br",null),"                                   \\|___|/      ",n.a.createElement("br",null))),n.a.createElement("div",{className:"member-role"},n.a.createElement("span",null,"Lead Développeur Front")),n.a.createElement("p",{className:"member-description"},"Moi aussi j'étais un aventurier autrefois, et puis j'ai pris une flèche dans le genou... Du coup j'ai décidé de devenir Développeur.")),n.a.createElement("div",{className:"member"},n.a.createElement("div",{className:"member-name"},n.a.createElement("pre",null," ___  ___  ___  ___  ________  ________     ",n.a.createElement("br",null),"|\\  \\|\\  \\|\\  \\|\\  \\|\\   ____\\|\\   __  \\    ",n.a.createElement("br",null),"\\ \\  \\\\\\  \\ \\  \\\\\\  \\ \\  \\___|\\ \\  \\|\\  \\   ",n.a.createElement("br",null)," \\ \\   __  \\ \\  \\\\\\  \\ \\  \\  __\\ \\  \\\\\\  \\  ",n.a.createElement("br",null),"  \\ \\  \\ \\  \\ \\  \\\\\\  \\ \\  \\|\\  \\ \\  \\\\\\  \\ ",n.a.createElement("br",null),"   \\ \\__\\ \\__\\ \\_______\\ \\_______\\ \\_______\\",n.a.createElement("br",null),"    \\|__|\\|__|\\|_______|\\|_______|\\|_______|",n.a.createElement("br",null))),n.a.createElement("div",{className:"member-role"},n.a.createElement("span",null,"Git Master"),n.a.createElement("span",null,"Développeur Front")),n.a.createElement("p",{className:"member-description"},"la légende raconte qu'il cherche encore une phrase pour se présenter..")),n.a.createElement("div",{className:"member"},n.a.createElement("div",{className:"member-name"},n.a.createElement("pre",null,"    ___  ___  ___  ___  __    ___  __    ________     ",n.a.createElement("br",null),"   |\\  \\|\\  \\|\\  \\|\\  \\|\\  \\ |\\  \\|\\  \\ |\\   __  \\    ",n.a.createElement("br",null),"   \\ \\  \\ \\  \\\\\\  \\ \\  \\/  /|\\ \\  \\/  /|\\ \\  \\|\\  \\   ",n.a.createElement("br",null)," __ \\ \\  \\ \\  \\\\\\  \\ \\   ___  \\ \\   ___  \\ \\   __  \\  ",n.a.createElement("br",null),"|\\  \\\\_\\  \\ \\  \\\\\\  \\ \\  \\\\ \\  \\ \\  \\\\ \\  \\ \\  \\ \\  \\ ",n.a.createElement("br",null),"\\ \\________\\ \\_______\\ \\__\\\\ \\__\\ \\__\\\\ \\__\\ \\__\\ \\__\\",n.a.createElement("br",null)," \\|________|\\|_______|\\|__| \\|__|\\|__| \\|__|\\|__|\\|__|",n.a.createElement("br",null))),n.a.createElement("div",{className:"member-role"},n.a.createElement("span",null,"Scrum Master"),n.a.createElement("span",null,"Développeur Front")),n.a.createElement("p",{className:"member-description"},"J'étais en route vers Excalibourg, mais j'ai du me tromper de chemin, du coup je me suis installé et je suis devenu développeur.")))}),lt=(a(210),function(e){var t=e.value,a=e.type,r=e.name,i=e.placeholder,s=e.onChange;return n.a.createElement("div",{className:"gameScreen-form-field"},n.a.createElement("input",{autoComplete:"off",className:"gameScreen-form-input",id:r,placeholder:i,name:r,type:a,value:t,onChange:function(e){s(e.target.value,r)}}))});lt.propTypes={name:Se.a.string.isRequired,placeholder:Se.a.string.isRequired,type:Se.a.string,value:Se.a.oneOfType([Se.a.object,Se.a.string]),onChange:Se.a.func.isRequired},lt.defaultProps={type:"text",value:""};var ot=lt,ut=function(e){var t=e.title,a=e.content,r=e.unlockText;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",{className:"gameScreen-chapterTitle"},t),a,n.a.createElement("div",{className:"gameScreen-unlockText"},r))};ut.propTypes={title:Se.a.string.isRequired,content:Se.a.string.isRequired,unlockText:Se.a.string.isRequired};var dt=ut;function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var pt=function(e){var t=e.previousChapters;return n.a.createElement("div",{className:"gameScreen-content-previousChapters"},t.map((function(e){return n.a.createElement(dt,mt({},e,{key:e.id}))})))};pt.propTypes={previousChapters:Se.a.array.isRequired};var Et=pt,_t=function(e){var t=e.title,a=e.content,r=e.unlockText,i=e.trueAnswer,s=e.fetchNextChapter,c=e.previousChapters;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"gameScreen-content-text"},n.a.createElement(Ie.a,{cursor:{show:!1},avgTypingDelay:20},n.a.createElement(Ie.a.Delay,{ms:0===c.length?5e3:500}),n.a.createElement("h3",{className:"gameScreen-chapterTitle"},t)),n.a.createElement(Ie.a,{cursor:{show:!1},avgTypingDelay:2},n.a.createElement(Ie.a.Delay,{ms:0===c.length?5500:1e3}),a)),n.a.createElement("div",{className:"gameScreen-unlockText"},i&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Ie.a,{cursor:{show:!1},avgTypingDelay:30},n.a.createElement(Ie.a.Delay,{ms:1e3}),r+" ",n.a.createElement("span",{className:"gameScreen-actionButton",onClick:s},"> Chapitre suivant")))))};_t.propTypes={fetchNextChapter:Se.a.func.isRequired,trueAnswer:Se.a.bool.isRequired,previousChapters:Se.a.array.isRequired,title:Se.a.string.isRequired,content:Se.a.string.isRequired,unlockText:Se.a.string.isRequired};var ft=_t;a(211);function ht(){return(ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var vt=function(e){var t=e.changeField,a=e.gameKey,i=e.gameLock,c=e.blockField,l=e.currentStory,o=e.fetchCurrentStory,u=e.currentChapter,d=e.fetchNextChapter,m=e.previousChapters,p=e.handleCheckAnswer,E=e.trueAnswer,_=e.displayLoader,f=e.loading,h=e.loadingChapter,v=e.showSuccessMessage,g=e.timerCounter,y=e.setCounter,b=e.timerIsRunning,R=e.showWrongAnswerMessage,T=e.giveHint,O=e.showHint,C=e.resetInitialState,S=Object(Oe.g)().slug;Object(r.useEffect)((function(){C(),o(S),_()}),[]),Object(r.useEffect)((function(){var e=b&&setInterval((function(){return y(g+1)}),1e3);return function(){return clearInterval(e)}}),[b,g]);var N=Math.floor(g/60),A=g-60*N;return n.a.createElement(n.a.Fragment,null,f&&n.a.createElement(Le,null),!f&&n.a.createElement("main",{className:"screenCase"},n.a.createElement("div",{className:"gameScreen"},n.a.createElement("div",{className:"gameScreen-header"},n.a.createElement("div",{className:"gameScreen-header-timer"},N<10&&0,N,":",A<10&&0,A),n.a.createElement("div",{className:"gameScreen-header-text"},n.a.createElement(Ie.a,{cursor:{hideWhenDone:!0},avgTypingDelay:15},n.a.createElement("span",null,"■■■ Initialisation de l'histoire v1.0"),n.a.createElement(Ie.a.Backspace,{count:33,delay:600}),n.a.createElement("span",null,"Chargement des chapitres"),n.a.createElement(Ie.a.Backspace,{count:24,delay:600}),n.a.createElement("span",null,l.title.toUpperCase()," by ",l.author.username)))),n.a.createElement("div",{className:"gameScreen-content"},0!==m.length&&n.a.createElement(Et,{previousChapters:m}),h&&n.a.createElement("div",null,"Loading Chapter"),!v&&!h&&n.a.createElement(ft,ht({},u,{trueAnswer:E,fetchNextChapter:d,previousChapters:m})),v&&n.a.createElement(Ie.a,{cursor:{show:!1},avgTypingDelay:15},n.a.createElement("div",{className:"gameScreen-storySuccess"},'Bravo, vous avez terminé le scénario "',l.title,'" ',n.a.createElement(s.b,{to:"/aventures/"}," ",n.a.createElement("span",{className:"gameScreen-moreAdventureButton"},"> Voir les autres aventures")))),R&&n.a.createElement(Ie.a,{cursor:{show:!1},avgTypingDelay:15},n.a.createElement("div",{className:"gameScreen-answerError"},"Mauvaise combinaison !")," ",n.a.createElement(Ie.a.Backspace,{count:23,delay:400})),!v&&n.a.createElement("form",{className:"gameScreen-form",onSubmit:function(e){var t,r,n,s;e.preventDefault(),p((t={gameKey:a}.gameKey,r={gameLock:i}.gameLock,n="".concat(u.keyword),s="".concat(u.lockword),""!==t&&""!==r?t.trim().toLowerCase()===n.trim().toLowerCase()&&r.trim().toLowerCase()===s.trim().toLowerCase():"no_value"))}},n.a.createElement("div",{className:"gameScreen-form-row",id:"keyForm"},n.a.createElement("label",{className:"gameScreen-label",htmlFor:"gameKey"},"Clé:"),n.a.createElement(ot,{name:"gameKey",placeholder:"Clé",onChange:1===O?c:t,value:1===O?a="".concat(u.keyword):"".concat(a)})),n.a.createElement("div",{className:"gameScreen-form-row",id:"lockForm"},n.a.createElement("label",{className:"gameScreen-label",htmlFor:"gameLock"},"Serrure:"),n.a.createElement(ot,{name:"gameLock",placeholder:"Serrure",onChange:2===O?c:t,value:2===O?i="".concat(u.lockword):"".concat(i)})),n.a.createElement("button",{className:"gameScreen-formButton",type:"submit"},"Tester la combinaison"),!v&&!E&&n.a.createElement("button",ht({id:"hintButton",className:"gameScreen-hintButton",type:"button",onClick:T},0!==O&&document.getElementById("hintButton").setAttribute("disabled","disabled")),"[Indice]"),1===O&&n.a.createElement(n.a.Fragment,null," ",document.getElementById("gameKey").setAttribute("value","".concat(u.keyword)))))),n.a.createElement("div",{className:"computer-facade"},n.a.createElement("div",{className:"computer-brand"},n.a.createElement("p",{className:"computer-factory"}," Fabigeon 8000"),n.a.createElement("p",{className:"computer-factory"}," N°: 682984XCE"),n.a.createElement("p",{className:"computer-factory"}," Model: fabirex"),n.a.createElement("p",{className:"computer-factory"}," OLD THE DOOR")),n.a.createElement("div",{className:"computer-blowhole"}," "),n.a.createElement("div",{className:"disk-reader"},n.a.createElement("div",{className:"disk-insert"}," "),n.a.createElement("div",{className:"disk-eject"},n.a.createElement("div",{className:"eject"},n.a.createElement("div",{className:"triangle"}," "),n.a.createElement("div",{className:"rectangle"}," ")))))))};vt.propTypes={resetInitialState:Se.a.func.isRequired,setCounter:Se.a.func.isRequired,timerCounter:Se.a.number.isRequired,timerIsRunning:Se.a.bool.isRequired,showWrongAnswerMessage:Se.a.bool.isRequired,giveHint:Se.a.func.isRequired,showHint:Se.a.number.isRequired,blockField:Se.a.func.isRequired,changeField:Se.a.func.isRequired,gameKey:Se.a.string.isRequired,gameLock:Se.a.string.isRequired,displayLoader:Se.a.func.isRequired,loading:Se.a.bool.isRequired,trueAnswer:Se.a.bool.isRequired,loadingChapter:Se.a.bool.isRequired,showSuccessMessage:Se.a.bool.isRequired,fetchCurrentStory:Se.a.func.isRequired,fetchNextChapter:Se.a.func.isRequired,currentStory:Se.a.shape({id:Se.a.oneOfType([Se.a.number,Se.a.string]).isRequired,title:Se.a.string,synopsis:Se.a.string,firstChapter:Se.a.oneOfType([Se.a.object,Se.a.string]),author:Se.a.shape({id:Se.a.oneOfType([Se.a.number,Se.a.string]).isRequired,username:Se.a.string.isRequired}).isRequired}).isRequired,handleCheckAnswer:Se.a.func.isRequired,currentChapter:Se.a.shape({id:Se.a.oneOfType([Se.a.number,Se.a.string]).isRequired,title:Se.a.string.isRequired,content:Se.a.string.isRequired,keyword:Se.a.string.isRequired,lockword:Se.a.string.isRequired,unlockText:Se.a.string.isRequired,parentChapter:Se.a.oneOfType([Se.a.object,Se.a.string]),forStory:Se.a.oneOfType([Se.a.object,Se.a.string]).isRequired}).isRequired,previousChapters:Se.a.array.isRequired};var gt=vt,yt=Object(c.b)((function(e){return{trueAnswer:e.gameScreen.trueAnswer,loading:e.utils.loading,loadingChapter:e.gameScreen.loadingChapter,currentStory:e.gameScreen.currentStory,currentChapter:e.gameScreen.currentChapter,gameKey:e.gameScreen.gameKey,gameLock:e.gameScreen.gameLock,previousChapters:e.gameScreen.previousChapters,showSuccessMessage:e.gameScreen.showSuccessMessage,timerCounter:e.gameScreen.timerCounter,timerIsRunning:e.gameScreen.timerIsRunning,showWrongAnswerMessage:e.gameScreen.showWrongAnswerMessage,showHint:e.gameScreen.showHint}}),(function(e){return{resetInitialState:function(){e(function(e){return{type:"RESET_INITIAL_STATE",initialState:e}}())},changeField:function(t,a){e(function(e,t){return{type:"UPDATE_ANSWER_FIELD",newValue:e,name:t}}(t,a))},blockField:function(){e({type:"BLOCK_FIELD"})},fetchCurrentStory:function(t){e(function(e){return{type:"FETCH_CURRENT_STORY",slug:e}}(t))},saveCurrentStory:function(){e(S())},fetchFirstChapter:function(){e(D),e(N())},saveCurrentChapter:function(){e(A())},handleCheckAnswer:function(t){!0===t?e({type:"TOGGLE_ANSWER_VALUE"}):"no_value"===t||e({type:"TOGGLE_WRONG_ANSWER_MESSAGE"},e(w(60)),setTimeout((function(){e({type:"TOGGLE_WRONG_ANSWER_MESSAGE"})}),2500))},fetchNextChapter:function(){var t;e({type:"HIDE_CHAPTER"}),e({type:"CLEAR_GAMESCREEN_INPUT"}),e({type:"TOGGLE_ANSWER_VALUE"}),e({type:"FETCH_NEXT_CHAPTER",currentChapterChild:t})},displayLoader:function(){e({type:"DISPLAY_LOADER"})},setCounter:function(t){e(function(e){return{type:"SET_COUNTER",currentTime:e}}(t))},toggleWrongAnswerMessage:function(){e({type:"TOGGLE_WRONG_ANSWER_MESSAGE"})},giveHint:function(){var t=Math.floor(2*Math.random())+1;e(function(e){return{type:"GIVE_HINT",randomHint:e}}(t)),e(w(300))}}}))(gt),bt=(a(212),function(e){var t=e.identifier,a=e.placeholder,r=e.label,i=e.type,s=e.value,c=e.changeField;return n.a.createElement("div",{className:"field"},n.a.createElement("label",{className:"label",htmlFor:t},r),n.a.createElement("input",{autoComplete:"off",className:"input",id:t,placeholder:a,name:t,type:i,value:s,onChange:function(e){var t=e.target,a=t.value,r=t.name;c(r,a)}}))});bt.propTypes={identifier:Se.a.string.isRequired,placeholder:Se.a.string.isRequired,label:Se.a.string.isRequired,type:Se.a.string,value:Se.a.string,changeField:Se.a.func.isRequired},bt.defaultProps={type:"text",value:""};var Rt=bt,Tt=(a(213),function(e){var t=e.identifier,a=e.placeholder,r=e.label,i=e.type,s=e.value,c=e.changeField;return n.a.createElement("div",{className:"field"},n.a.createElement("label",{className:"label",htmlFor:t},r),n.a.createElement("textarea",{autoComplete:"off",className:"input",id:t,placeholder:a,name:t,type:i,value:s,onChange:function(e){var t=e.target,a=t.value,r=t.name;c(r,a)},cols:"30",rows:"10"}))});Tt.propTypes={identifier:Se.a.string.isRequired,placeholder:Se.a.string.isRequired,label:Se.a.string.isRequired,type:Se.a.string,value:Se.a.string,changeField:Se.a.func.isRequired},Tt.defaultProps={type:"text",value:""};var Ot=Tt,Ct=(a(214),function(e){var t=e.title,a=e.synopsis,i=e.description,s=e.updateField,c=e.sumbitStoryCreate,l=e.redirect,o=e.slug,u=e.clearStoryCreation,d=e.validationError,m=e.setValidationErrorAdvTrue;Object(r.useEffect)((function(){u()}),[]);return n.a.createElement(n.a.Fragment,null,l&&n.a.createElement(Oe.a,{to:"/aventures/".concat(o)}),!l&&n.a.createElement("main",{className:"storyCreate"},n.a.createElement("h1",{className:"adventures-title main-title"},n.a.createElement(Ie.a,{cursor:{hideWhenDone:!0}},"Créer une aventure")),n.a.createElement("form",{className:"storyCreate-form",onSubmit:function(e){e.preventDefault(),t.length>3&&!/^\d+$/.test(t)&&a.length>50&&i.length>50?c(t,a,i):m()}},n.a.createElement(Rt,{identifier:"title",placeholder:"L'énigme mystérieuse ...",value:t,changeField:s,label:"Titre :"}),n.a.createElement(Ot,{identifier:"synopsis",placeholder:"Il était une fois, dans une contrée lointaine ...",value:a,changeField:s,label:"Synopsis : (50 caractères min.)"}),n.a.createElement(Ot,{identifier:"description",placeholder:"L'histoire commence dans une grange abandonnée ...",value:i,changeField:s,label:"Description : (50 caractères min.)"}),d&&n.a.createElement("div",{className:"validationError"},"Les informations envoyées ne correspondent pas aux prérequis"),n.a.createElement("button",{className:"storyCreate-form-button",type:"submit"},"C'est parti !"))))});Ct.propTypes={setValidationErrorAdvTrue:Se.a.func.isRequired,validationError:Se.a.bool.isRequired,clearStoryCreation:Se.a.func.isRequired,slug:Se.a.string.isRequired,title:Se.a.string.isRequired,synopsis:Se.a.string.isRequired,description:Se.a.string.isRequired,sumbitStoryCreate:Se.a.func.isRequired,updateField:Se.a.func.isRequired,redirect:Se.a.bool.isRequired};var St=Ct,Nt=Object(c.b)((function(e){return{title:e.storyCreation.title,synopsis:e.storyCreation.synopsis,description:e.storyCreation.description,redirect:e.utils.redirect,slug:e.storyCreation.slug,validationError:e.storyCreation.validationError}}),(function(e){return{updateField:function(t,a){e(function(e,t){return{type:"UPDATE_CREATION_FIELD",identifier:e,newValue:t}}(t,a))},sumbitStoryCreate:function(t,a,r){e(function(e,t,a){return{type:"SUBMIT_STORY_CREATE_FORM",title:e,synopsis:t,description:a}}(t,a,r))},clearStoryCreation:function(){e({type:"CLEAR_STORY_CREATION"})},setValidationErrorAdvTrue:function(){e({type:"SET_VALIDATION_ERROR_ADV_TRUE"})}}}))(St),At=function(e){var t=e.title,a=e.synopsis,r=e.description,i=e.updateField,s=e.validationErrorAdvEdit;return n.a.createElement("div",{className:"adventureEdit"},n.a.createElement(Rt,{className:"adventureEdit-storyTitle",identifier:"title",placeholder:"titre",value:t,changeField:i,label:"Titre :"}),n.a.createElement(Ot,{className:"adventureEdit-synopsis",identifier:"synopsis",placeholder:"synopsis",value:a,changeField:i,label:"Synopsis :"}),n.a.createElement(Ot,{className:"adventureEdit-description",identifier:"description",placeholder:"description",value:r,changeField:i,label:"Description :"}),s&&n.a.createElement("div",{className:"validationError"},"Les informations envoyées ne correspondent pas aux prérequis"))};At.propTypes={validationErrorAdvEdit:Se.a.bool.isRequired,updateField:Se.a.func.isRequired,title:Se.a.string.isRequired,description:Se.a.string.isRequired,synopsis:Se.a.string.isRequired};var jt=At,Dt=Object(c.b)((function(e){return{title:e.storyEdit.title,synopsis:e.storyEdit.synopsis,description:e.storyEdit.description,validationErrorAdvEdit:e.storyEdit.validationErrorAdvEdit}}),(function(e){return{updateField:function(t,a){e(function(e,t){return{type:"UPDATE_ADVENTURE_EDIT_FIELD",identifier:e,newValue:t}}(t,a))}}}))(jt),wt=(a(169),function(e){var t=e.firstChapter,a=e.chapterEdit,r=e.id,i=e.title,s=e.content,c=e.keyword,l=e.lockword,o=e.unlockText,u=e.updateField,d=e.editOption,m=e.submitNewChapterForm,E=e.submitChapterEditForm,_=e.parentChapterOption,f=e.setParentChapterChoice,h=e.setErrorKeyLockTrue,v=e.errorKeyLock,g=e.validationErrorChapEdit,y=e.setValidationErrorChapEditTrue,b=e.setValidationErrorChapEditFalse,R=function(e){f(e.target.value)};return n.a.createElement(n.a.Fragment,null,d===r&&n.a.createElement("form",{className:"newChapter-form",onSubmit:function(e){e.preventDefault(),b(),i.length>3&&s.length>50&&o.length>0?p(c,s)&&p(l,s)?E():h():y()}},n.a.createElement("div",{className:"chapterEdit"},t.id!==parseInt(d,10)&&n.a.createElement("label",{htmlFor:"chapterEdit-parentChapter"},null!==a.parentChapter&&n.a.createElement("span",null,"Chapitre parent actuel : ",a.parentChapter.title,n.a.createElement("br",null)),"Choisir le Chapitre parent :",n.a.createElement("select",{className:"chapterEdit-parentChapter",id:"chapterEdit-parentChapter",onChange:R,defaultValue:null!==a.parentChapter&&a.parentChapter.id},n.a.createElement("option",{value:null!==a.parentChapter&&a.parentChapter.id},"Chapitres parent possible"),n.a.createElement("option",{value:""},"Retirer le choix actuel"),_.map((function(e){if(e.id!==parseInt(d,10))return n.a.createElement("option",{key:e.id,value:e.id},e.title)})))),n.a.createElement(Rt,{className:"chapterEdit-chapterTitle",identifier:"title",placeholder:"Le coffre",value:i,changeField:u,label:"Titre :"}),n.a.createElement(Ot,{className:"chapter-Edit-chapterText",identifier:"content",placeholder:"Vous voyez devant vous un bureau sur lequel est posé un coffre fermé par un cadenas, ainsi qu'une clé accroché à un clou sur le mur",value:s,changeField:u,label:"Contenu :"}),n.a.createElement(Rt,{className:"chapterEdit-key",identifier:"keyword",placeholder:"Clé",value:c,changeField:u,label:"Un mot Clé :"}),n.a.createElement(Rt,{className:"chapterEdit-lock",identifier:"lockword",placeholder:"Cadenas",value:l,changeField:u,label:"Un mot Serrure :"}),n.a.createElement(Rt,{className:"chapterEdit-unlockText",identifier:"unlockText",placeholder:"Vous avez déverouillé le cadenas avec la clé et ouvrez le coffre ...",value:o,changeField:u,label:"Texte de réussite du chapitre :"})),v&&n.a.createElement("div",{className:"errorMessage"},"La clé et/ou la serrure ne se trouve pas dans le contenu comme prévu."),g&&n.a.createElement("div",{className:"validationError"},"Les informations envoyées ne correspondent pas aux prérequis"),n.a.createElement("button",{type:"submit",className:"chapterEdit-Button"},"Enregistrer les modifications du chapitre")),"Nouveau Chapitre"===d&&n.a.createElement("form",{className:"newChapter-form",onSubmit:function(e){e.preventDefault(),b(),i.length>3&&s.length>50&&o.length>0?p(c,s)&&p(l,s)?m():h():y()}},n.a.createElement("div",{className:"chapterEdit"},null!==t&&n.a.createElement("label",{htmlFor:"chapterEdit-parentChapter"},"Choisir le Chapitre parent :",n.a.createElement("select",{className:"chapterEdit-parentChapter",id:"chapterEdit-parentChapter",onChange:R,defaultValue:""},n.a.createElement("option",{disabled:!0,value:""},"Chapitres parent possible"),n.a.createElement("option",{value:""},"Aucun pour le moment"),_.map((function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.title)})))),n.a.createElement(Rt,{className:"chapterEdit-chapterTitle",identifier:"title",placeholder:"Le coffre",value:i,changeField:u,label:"Titre :"}),n.a.createElement(Ot,{className:"chapter-Edit-chapterText",identifier:"content",placeholder:"Vous voyez devant vous un bureau sur lequel est posé un coffre fermé par un cadenas, ainsi qu'une clé accroché à un clou sur le mur",value:s,changeField:u,label:"Contenu :"}),n.a.createElement(Rt,{className:"chapterEdit-key",identifier:"keyword",placeholder:"Clé",value:c,changeField:u,label:"Un mot Clé :"}),n.a.createElement(Rt,{className:"chapterEdit-lock",identifier:"lockword",placeholder:"Cadenas",value:l,changeField:u,label:"Un mot Serrure :"}),n.a.createElement(Rt,{className:"chapterEdit-unlockText",identifier:"unlockText",placeholder:"Vous avez déverouillé le cadenas avec la clé et ouvrez le coffre ...",value:o,changeField:u,label:"Texte de réussite du chapitre :"})),v&&n.a.createElement("div",{className:"errorMessage"},"La clé et/ou la serrure ne se trouve pas dans le contenu comme prévu."),g&&n.a.createElement("div",{className:"validationError"},"Les informations envoyées ne correspondent pas aux prérequis"),n.a.createElement("button",{type:"submit",className:"chapterEdit-Button"},"Enregistrer le nouveau chapitre")))});wt.propTypes={setValidationErrorChapEditFalse:Se.a.func.isRequired,setValidationErrorChapEditTrue:Se.a.func.isRequired,validationErrorChapEdit:Se.a.bool.isRequired,errorKeyLock:Se.a.bool,setErrorKeyLockTrue:Se.a.func.isRequired,setParentChapterChoice:Se.a.func.isRequired,parentChapterOption:Se.a.array.isRequired,editOption:Se.a.string.isRequired,updateField:Se.a.func.isRequired,id:Se.a.string,title:Se.a.string,content:Se.a.string,keyword:Se.a.string,lockword:Se.a.string,unlockText:Se.a.string,submitNewChapterForm:Se.a.func.isRequired,submitChapterEditForm:Se.a.func.isRequired,chapterEdit:Se.a.shape({parentChapter:Se.a.shape({title:Se.a.string,id:Se.a.oneOfType([Se.a.number,Se.a.string])})}).isRequired,firstChapter:Se.a.shape({id:Se.a.oneOfType([Se.a.number,Se.a.string])})},wt.defaultProps={id:"",title:"",content:"",keyword:"",lockword:"",unlockText:"",errorKeyLock:!1,firstChapter:null};var Lt=wt,kt=Object(c.b)((function(e){return{editOption:e.storyEdit.editOption,chapters:e.storyEdit.chapters,title:e.chapterEdit.title,content:e.chapterEdit.content,keyword:e.chapterEdit.keyword,lockword:e.chapterEdit.lockword,unlockText:e.chapterEdit.unlockText,chapterEdit:e.chapterEdit,parentChapterOption:e.storyEdit.parentChapterOption,errorKeyLock:e.chapterEdit.errorKeyLock,validationErrorChapEdit:e.chapterEdit.validationErrorChapEdit,firstChapter:e.storyEdit.firstChapter}}),(function(e){return{updateField:function(t,a){e(function(e,t){return{type:"UPDATE_CHAPTER_EDIT_FIELD",identifier:e,newValue:t}}(t,a))},submitNewChapterForm:function(){e({type:"SUBMIT_NEW_CHAPTER_FORM"})},submitChapterEditForm:function(){e({type:"SUBMIT_CHAPTER_EDIT_FORM"})},setParentChapterChoice:function(t){e({type:"SET_PARENT_CHAPTER_CHOICE",parentChapterChoice:t})},setErrorKeyLockTrue:function(){e({type:"SET_ERROR_KEY_LOCK_TRUE"})},checkWordInContent:function(t,a){e(p(t,a))},setValidationErrorChapEditTrue:function(){e({type:"SET_VALIDATION_ERROR_CHAP_EDIT_TRUE"})},setValidationErrorChapEditFalse:function(){e({type:"SET_VALIDATION_ERROR_CHAP_EDIT_FALSE"})}}}))(Lt),It=a(226),qt=a(227),Pt=function(e){var t=e.firstChapter,a=e.firstChapterId,i=e.chapters,s=e.previousChapterMapped,c=e.chaptersDisplay,l=e.structureView,o=e.showStoryStructure,u=e.hideStoryStructure;Object(r.useEffect)((function(){}),[]),c=[],s[0]=a;for(var d=function(e,t){i.map((function(e){null!==e.parentChapter&&e.parentChapter.id===s[0]&&(t++,s[0]=e.id,c.push(n.a.createElement("div",{className:"architecture-row",key:e.id},n.a.createElement("span",null,"#",t,": ",e.title))))})),p=t},m=0,p=1;m<i.length;m++)d(0,p);return n.a.createElement("section",{className:"architecture"},!l&&n.a.createElement("span",{className:"architecture-link",onClick:o},"Sommaire ",n.a.createElement(It.a,null)),l&&n.a.createElement("span",{className:"architecture-link",onClick:u},"Sommaire ",n.a.createElement(qt.a,null)),l&&n.a.createElement("div",{className:"architecture-details"},null!==t&&n.a.createElement("div",{className:"architecture-row"},n.a.createElement("span",null,"#1: ",t)),c,i.length-c.length>1&&n.a.createElement("div",{className:"architecture-subtitle"},"Chapitres sans parents"),i.map((function(e){if(null==e.parentChapter&&e.id!==a)return n.a.createElement("div",{key:e.id},n.a.createElement("span",null,"- ",e.title))}))))};Pt.propTypes={firstChapter:Se.a.string,firstChapterId:Se.a.oneOfType([Se.a.number,Se.a.string]),chapters:Se.a.array,previousChapterMapped:Se.a.array,chaptersDisplay:Se.a.array,structureView:Se.a.bool.isRequired,showStoryStructure:Se.a.func.isRequired,hideStoryStructure:Se.a.func.isRequired},Pt.defaultProps={firstChapter:null,chapters:[],firstChapterId:null,previousChapterMapped:[],chaptersDisplay:[]};var Ft=Pt,Vt=Object(c.b)((function(e){return{structureView:e.storyEdit.structureView}}),(function(e){return{showStoryStructure:function(){e({type:"SHOW_STORY_STRUCTURE"})},hideStoryStructure:function(){e({type:"HIDE_STORY_STRUCTURE"})}}}))(Ft);a(215);function Ht(){return(Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var Mt=function(e){var t=e.storyEdit,a=e.fetchAdvEditSelected,i=e.displayLoader,s=e.loading,c=e.submitAdvEditForm,l=e.redirect,o=e.chapters,u=e.editOption,d=e.setEditOption,m=e.initialTitle,p=e.fetchChapterEditSelected,E=e.chapterEdit,_=e.clearChapterEdit,f=e.clearStoryEdit,h=e.setValidationErrorAdvEditTrue,v=e.setValidationErrorAdvEditFalse,g=e.setValidationErrorChapEditFalse,y=e.advSelectedSlug,b=Object(Oe.g)().slug;Object(r.useEffect)((function(){f(),_(),a(b),i()}),[]);return n.a.createElement(n.a.Fragment,null,l&&n.a.createElement(Oe.a,{to:"/aventures/".concat(y)}),!l&&n.a.createElement(n.a.Fragment,null,s&&n.a.createElement(Le,null),!s&&n.a.createElement("main",{className:"storyEdit"},n.a.createElement("h1",{className:"main-title"},n.a.createElement(Ie.a,{cursor:{hideWhenDone:!0}},m)),t.chapters.length>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Vt,{titleStory:t.title,firstChapter:t.firstChapter.title,firstChapterId:t.firstChapter.id,chapters:t.chapters})),n.a.createElement("label",{htmlFor:"storyEdit-form-editChoice"},"Editer :",n.a.createElement("select",{className:"storyEdit-form-editChoice",id:"storyEdit-form-editChoice",onChange:function(e){d(e.target.value),v(),g(),"Nouveau Chapitre"===e.target.value||e.target.value===m||""===e.target.value?_():p(e.target.value)},defaultValue:""},n.a.createElement("option",{disabled:!0,value:""},"Choix"),n.a.createElement("option",{value:"Nouveau Chapitre"},"Nouveau Chapitre"),n.a.createElement("option",{value:m},"Aventure: ",m),o.map((function(e){return n.a.createElement("option",{key:e.id,value:e.id},"Chapitre: ",e.title)})))),u===m&&n.a.createElement("form",{className:"advEdit-form",onSubmit:function(e){e.preventDefault(),v(),t.title.length>3&&!/^\d+$/.test(t.title)&&t.synopsis.length>50&&t.description.length>50?c():h()}},n.a.createElement(Dt,null),n.a.createElement("button",{type:"submit",className:"storyEdit-Button"},"Enregistrer les modifications sur l'aventure")),n.a.createElement(kt,Ht({},E,{id:"".concat(E.id)})))))};Mt.propTypes={advSelectedSlug:Se.a.string.isRequired,setValidationErrorChapEditFalse:Se.a.func.isRequired,setValidationErrorAdvEditFalse:Se.a.func.isRequired,setValidationErrorAdvEditTrue:Se.a.func.isRequired,clearStoryEdit:Se.a.func.isRequired,clearChapterEdit:Se.a.func.isRequired,fetchChapterEditSelected:Se.a.func.isRequired,initialTitle:Se.a.string.isRequired,setEditOption:Se.a.func.isRequired,editOption:Se.a.string.isRequired,redirect:Se.a.bool.isRequired,submitAdvEditForm:Se.a.func.isRequired,displayLoader:Se.a.func.isRequired,fetchAdvEditSelected:Se.a.func.isRequired,loading:Se.a.bool.isRequired,storyEdit:Se.a.shape({idStory:Se.a.oneOfType([Se.a.number,Se.a.string]).isRequired,slug:Se.a.string.isRequired,title:Se.a.string.isRequired,synopsis:Se.a.string.isRequired,description:Se.a.string.isRequired,firstChapter:Se.a.shape({title:Se.a.string,id:Se.a.oneOfType([Se.a.number,Se.a.string])}),chapters:Se.a.array}).isRequired,chapters:Se.a.array.isRequired,chapterEdit:Se.a.shape({id:Se.a.number}).isRequired},Mt.defautProps={firstChapter:[]};var Ut=Mt,xt=Object(c.b)((function(e){return{loading:e.utils.loading,storyEdit:e.storyEdit,redirect:e.utils.redirect,chapters:e.storyEdit.chapters,editOption:e.storyEdit.editOption,initialTitle:e.storyEdit.initialTitle,chapterEdit:e.chapterEdit,advSelectedSlug:e.adventures.adventureSelected.slug}}),(function(e){return{fetchAdvEditSelected:function(t){e(function(e){return{type:"FETCH_ADV_EDIT_SELECTED",slug:e}}(t))},displayLoader:function(){e({type:"DISPLAY_LOADER"})},submitAdvEditForm:function(){e({type:"SUBMIT_ADV_EDIT_FORM"})},setEditOption:function(t){e(function(e){return{type:"SET_EDIT_OPTION",newValue:e}}(t))},fetchChapterEditSelected:function(t){e(function(e){return{type:"FETCH_CHAPTER_EDIT_SELECTED",id:e}}(t))},clearChapterEdit:function(){e({type:"CLEAR_CHAPTER_EDIT"})},clearStoryEdit:function(){e({type:"CLEAR_STORY_EDIT"})},setValidationErrorAdvEditTrue:function(){e({type:"SET_VALIDATION_ERROR_ADV_EDIT_TRUE"})},setValidationErrorAdvEditFalse:function(){e({type:"SET_VALIDATION_ERROR_ADV_EDIT_FALSE"})},setValidationErrorChapEditFalse:function(){e({type:"SET_VALIDATION_ERROR_CHAP_EDIT_FALSE"})}}}))(Ut),Yt=(a(216),function(e){var t=e.toggleBurgerMenuFromNav,a=e.isLogged;return n.a.createElement("nav",{className:"nav"},n.a.createElement(s.b,{className:"nav-item",to:"/",onClick:t},n.a.createElement("span",{className:"nav-symbol"},">:/"),"[Home]"),n.a.createElement(s.b,{onClick:t,className:"nav-item",to:"/aventures"},n.a.createElement("span",{className:"nav-symbol"},">:/"),"[Aventures]"),null!==a&&n.a.createElement(s.b,{onClick:t,className:"nav-item",to:"/profil"},n.a.createElement("span",{className:"nav-symbol"},">:/"),"[Profil]"))});Yt.propTypes={toggleBurgerMenuFromNav:Se.a.func.isRequired,isLogged:Se.a.oneOfType([Se.a.bool,Se.a.string])},Yt.defaultProps={isLogged:null};var Gt=Yt,Bt=Object(c.b)((function(e){return{isLogged:e.user.isLogged}}),(function(e){return{toggleBurgerMenuFromNav:function(){e({type:"TOOGLE_BURGER_MENU_FROM_NAV"})}}}))(Gt),zt=a(228),Wt=a(229),Kt=(a(217),function(e){var t=e.toggleBurgerMenuOpen,a=e.burgerMenuOpen;return n.a.createElement("div",{className:"burgerMenuContainer",onClick:t},n.a.createElement("span",{className:"menu"},"Menu"),"  ",a?n.a.createElement(zt.a,null):n.a.createElement(Wt.a,null))});Kt.propTypes={burgerMenuOpen:Se.a.bool.isRequired,toggleBurgerMenuOpen:Se.a.func.isRequired};var Xt=Kt,Jt=Object(c.b)((function(e){return{burgerMenuOpen:e.utils.burgerMenuOpen}}),(function(e){return{toggleBurgerMenuOpen:function(){e({type:"TOOGLE_BURGER_MENU"})}}}))(Xt),$t=(a(218),function(e){var t=e.toggleBurgerMenuFromNav,a=e.isLogged,r=e.logOut;return n.a.createElement("div",{className:"header"},n.a.createElement(s.b,{onClick:t,className:"nav-logo",to:"/"},"([ ¬])",n.a.createElement("span",{className:"logo-text"},"'ld the door")),null===a&&n.a.createElement(s.b,{onClick:t,className:"login",to:"/connexion"},"[Connexion]"),null!==a&&n.a.createElement(s.b,{className:"logout",onClick:r,to:"/"},"[Déconnexion]"),n.a.createElement("div",{className:"nav-container"},n.a.createElement(Bt,null)),n.a.createElement(Jt,null))});$t.propTypes={toggleBurgerMenuFromNav:Se.a.func.isRequired,isLogged:Se.a.oneOfType([Se.a.bool,Se.a.string]),logOut:Se.a.func.isRequired},$t.defaultProps={isLogged:null};var Qt=$t,Zt=Object(c.b)((function(e){return{isLogged:e.user.isLogged}}),(function(e){return{toggleBurgerMenuFromNav:function(){e({type:"TOOGLE_BURGER_MENU_FROM_NAV"})},logOut:function(){e({type:"LOG_OUT"})}}}))(Qt),ea=a.p+"images/522de8cef0d10b027c05c32a9b7640fe.gif",ta=(a(219),function(){return n.a.createElement("div",{className:"error404-container"},n.a.createElement("h1",{className:"error404-title"},n.a.createElement(Ie.a,{cursor:{hideWhenDone:!0}},"Erreur 404")),n.a.createElement("span",{className:"error404-disclaimer"},"Ne pas prendre au sérieux le texte suivant"),n.a.createElement("div",{className:"error404-text"},n.a.createElement("div",{className:"error404-texts"},"Un problème a été détecté et le site ne trouve pas cette page."),n.a.createElement("div",{className:"error404-texts"},"Le problème semble être causé par une mauvaise route."),n.a.createElement("div",{className:"error404-texts"},"Si vous voyez cette page d'erreur pour la première fois, retourner sur la page précédente ou toutes autres pages qui fonctionnaient jusqu'à présent."),n.a.createElement("div",{className:"error404-texts"},"Si ce n'est pas la première fois que vous voyez cette page d'erreur c'est que vous essayez de casser notre site et ce n'est pas très gentil !"),n.a.createElement("div",{className:"error404-texts"},"Si vous n'êtes pas un vilain hacker et que vous êtes sûr que l'adresse de la page souhaitée est bonne merci de nous contacter si nous avons mis en place une méthode de contact..."),n.a.createElement("div",{className:"error404-texts"},n.a.createElement("span",{className:"error404-span"},"Information techniques (totalement fausses):")," ",n.a.createElement("br",null),"*** STOP: XDF1235CDSN DJHMEDK516DAF \\\\ FCLX78MVLx0000000000",n.a.createElement("div",{className:"fabigeon"},"FABIGEON",n.a.createElement("img",{src:ea,alt:"Un magnifique gif du Fabigeon à l'état sauvage",className:"tooltip"})),"54547FHSFM")))}),aa=(a(220),function(e){var t=e.toggleBurgerMenuFromNav;return n.a.createElement("footer",{className:"footer"},n.a.createElement(s.b,{onClick:t,className:"footer-team",to:"/equipe"},"[Notre équipe]"),n.a.createElement("span",{className:"footer-copyright"},"© 2020 - O'ld the door"))});aa.propTypes={toggleBurgerMenuFromNav:Se.a.func.isRequired};var ra=aa,na=Object(c.b)((function(e){return{}}),(function(e){return{toggleBurgerMenuFromNav:function(){e({type:"TOOGLE_BURGER_MENU_FROM_NAV"})}}}))(ra),ia=(a(221),function(e){var t=e.time,a=e.createdAt,r=e.forStory;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"party"},n.a.createElement("h3",{className:"party-story"},r.title),n.a.createElement("h3",{className:"party-played-when"},n.a.createElement(Ae.a,{format:"DD/MM/YYYY",parse:"YYYY-MM-DD HH:mm"},a)),n.a.createElement("div",{className:"party-time"},Math.floor(t/3600)>0&&"".concat(Math.floor(t/3600),"h"),Math.floor((t-3600*Math.floor(t/3600))/60)<10&&0,Math.floor((t-3600*Math.floor(t/3600))/60),"m",t-(3600*Math.floor(t/3600)+60*Math.floor((t-3600*Math.floor(t/3600))/60))<10&&0,t-(3600*Math.floor(t/3600)+60*Math.floor((t-3600*Math.floor(t/3600))/60)),"s"),r.active?n.a.createElement("div",{className:"party-link"},n.a.createElement(s.b,{to:"/aventures/".concat(r.slug)},"Explorer")):n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:"profil-unactiveParty"},"Indisponible"))))});ia.propTypes={time:Se.a.number.isRequired,createdAt:Se.a.string.isRequired,forStory:Se.a.object.isRequired};var sa=ia;a(222);function ca(){return(ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var la=function(e){var t=e.redirectOff,a=e.fetchCreatedAdventures,i=e.createdAdventures,c=e.ownParties,l=e.userInfo,o=e.displayLoader;return Object(r.useEffect)((function(){t(),o(),a(l.id)}),[]),n.a.createElement("main",{className:"profil"},n.a.createElement("h1",{className:"team-title main-title"},n.a.createElement(Ie.a,{cursor:{hideWhenDone:!0}},"Profil de ",l.username)),n.a.createElement("h2",{className:"profil-littletitle"},"Mes informations:"),n.a.createElement("div",{className:"profil-user"},n.a.createElement("p",null,"Nom: ",l.lastname),n.a.createElement("p",null,"Prénom: ",l.firstname),n.a.createElement("p",null,"Email: ",l.email),n.a.createElement("p",null,"Username: ",l.username)),n.a.createElement("div",{className:"adventureSmall creationAdventure"},n.a.createElement("h3",{className:"adventureSmall-title"},"Pour créer une aventure c'est par ici."),n.a.createElement("div",{className:"adventureSmall-link"},n.a.createElement(s.b,{to:"/aventures/creation"},"Créer une Aventure"))),n.a.createElement("h2",{className:"profil-littletitle"},"Mes Aventures créées:"),i.map((function(e){return n.a.createElement(De,ca({},e,{key:e.id}))})),n.a.createElement("h2",{className:"profil-littletitle"},"Mes parties jouées:"),n.a.createElement("div",{className:"profil-story"},c.map((function(e){return n.a.createElement(sa,ca({},e,{key:e.id}))}))))};la.propTypes={redirectOff:Se.a.func.isRequired,fetchCreatedAdventures:Se.a.func.isRequired,createdAdventures:Se.a.arrayOf(Se.a.shape({id:Se.a.number.isRequired}).isRequired).isRequired,ownParties:Se.a.arrayOf(Se.a.shape({id:Se.a.number.isRequired,time:Se.a.number.isRequired,forStory:Se.a.shape({id:Se.a.number.isRequired,title:Se.a.string.isRequired}).isRequired,createdAt:Se.a.string.isRequired,player:Se.a.object}).isRequired).isRequired,userInfo:Se.a.object.isRequired,displayLoader:Se.a.func.isRequired};var oa=la,ua=Object(c.b)((function(e){return{showCreatedAdventures:e.profil.showCreatedAdventures,createdAdventures:e.profil.createdAdventures,ownParties:e.profil.ownParties,userInfo:e.user.user}}),(function(e){return{redirectOff:function(){e({type:"REDIRECT_OFF"})},displayLoader:function(){e({type:"DISPLAY_LOADER"})},fetchCreatedAdventures:function(t){e(function(e){return{type:"FETCH_CREATED_ADVENTURES",authorId:e}}(t))},fetchOwnParties:function(t){e(T(t))}}}))(oa),da=a(230),ma=a(231),pa=(a(223),function(e){var t=e.toggleAsideOpen,a=e.asideOpen,r=e.data;return n.a.createElement("aside",{className:"aside"},n.a.createElement("div",{className:"aside-icon",onClick:t},a&&n.a.createElement(da.a,{size:30}),!a&&n.a.createElement(ma.a,{size:30})),a&&n.a.createElement("div",{className:"aside-content"},n.a.createElement("p",{className:"aside-content-title"},r.title),n.a.createElement("p",{className:"aside-content-text"},r.content)))});pa.propTypes={toggleAsideOpen:Se.a.func.isRequired,asideOpen:Se.a.bool.isRequired,data:Se.a.shape({title:Se.a.string.isRequired,content:Se.a.string.isRequired}).isRequired};var Ea=pa,_a=Object(c.b)((function(e){return{asideOpen:e.utils.asideOpen}}),(function(e){return{toggleAsideOpen:function(){e({type:"TOGGLE_ASIDE_OPEN"})}}}))(Ea),fa=(a(224),function(e){var t=e.burgerMenuOpen,a=e.isLogged;return n.a.createElement("div",{className:"app"},n.a.createElement(Zt,null),t&&n.a.createElement(Bt,null),!t&&n.a.createElement(Oe.d,null,n.a.createElement(Oe.b,{exact:!0,path:"/"},n.a.createElement(Ve,null)),n.a.createElement(Oe.b,{exact:!0,path:"/connexion"},n.a.createElement(st,null)),n.a.createElement(Oe.b,{exact:!0,path:"/inscription"},n.a.createElement(Ze,null)),n.a.createElement(Oe.b,{exact:!0,path:"/aventures/creation"},n.a.createElement(_a,{data:E.storyCreate}),!0!==a&&n.a.createElement(Oe.a,{to:"/connexion"}),!0===a&&n.a.createElement(Nt,null)),n.a.createElement(Oe.b,{exact:!0,path:"/aventures/:slug/jouer"},n.a.createElement(_a,{data:E.gameScreen}),!0!==a&&n.a.createElement(Oe.a,{to:"/connexion"}),!0===a&&n.a.createElement(yt,null)),n.a.createElement(Oe.b,{exact:!0,path:"/aventures/:slug/edition"},n.a.createElement(_a,{data:E.storyEdit}),!0!==a&&n.a.createElement(Oe.a,{to:"/connexion"}),!0===a&&n.a.createElement(xt,null)),n.a.createElement(Oe.b,{exact:!0,path:"/aventures/:slug"},!0!==a&&n.a.createElement(Oe.a,{to:"/connexion"}),!0===a&&n.a.createElement(Be,null)),n.a.createElement(Oe.b,{exact:!0,path:"/aventures"},n.a.createElement(xe,null)),n.a.createElement(Oe.b,{exact:!0,path:"/equipe"},n.a.createElement(ct,null)),n.a.createElement(Oe.b,{exact:!0,path:"/profil"},n.a.createElement(ua,null)),n.a.createElement(Oe.b,null,n.a.createElement(ta,null))),n.a.createElement(na,null))});fa.propTypes={burgerMenuOpen:Se.a.bool.isRequired,isLogged:Se.a.bool},fa.defaultProps={isLogged:null};var ha=fa,va=Object(c.b)((function(e){return{burgerMenuOpen:e.utils.burgerMenuOpen,isLogged:e.user.isLogged}}),(function(e){return{}}))(ha),ga=n.a.createElement(c.a,{store:Te},n.a.createElement(s.a,null,n.a.createElement(va,null))),ya=document.getElementById("root");Object(i.render)(ga,ya)}},[[172,1,2]]]);